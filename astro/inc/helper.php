<?php
//FONTS - 65
    $select_font_options = array(
        '9' => array(
            'value' =>  'Acme',
            'hosted'=> 'google',
            'css' => 'Acme',
            'label' => __( 'Acme', 'astro' )
        ),
        '4' => array(
            'value' =>  'Alegreya:400italic,700italic,400,700',
            'hosted'=> 'google',
            'css' => 'Alegreya',
            'label' => __( 'Alegreya', 'astro' )
        ),
        '16' => array(
            'value' =>  'Anton',
            'hosted'=> 'google',
            'css' => "'Anton', sans-serif",
            'label' => __( 'Anton', 'astro' )
        ),
        '14' => array(
            'value' =>  'Arial',
            'hosted'=> 'self',
            'css' => 'Arial',
            'label' => __( 'Arial', 'astro' )
        ),
        '5' => array(
            'value' =>  'Arvo',
            'hosted'=> 'google',
            'css' => 'Arvo',
            'label' => __( 'Arvo', 'astro' )
        ),
        '10' => array(
            'value' =>  'Asap',
            'hosted'=> 'google',
            'css' => 'Asap',
            'label' => __( 'Asap', 'astro' )
        ),
        '7' => array(
            'value' =>  'Asul:400,700',
            'hosted'=> 'google',
            'css' => 'Asul',
            'label' => __( 'Asul', 'astro' )
        ),
        '43' => array(
            'value' =>  'Average+Sans',
            'hosted'=> 'google',
            'css' => "'Average Sans', sans-serif;",
            'label' => __( 'Average Sans', 'astro' )
        ),
        '42' => array(
            'value' =>  'Bitter:400,700,400italic',
            'hosted'=> 'google',
            'css' => "'Bitter', serif;",
            'label' => __( 'Bitter', 'astro' )
        ),
        '25' => array(
            'value' =>  'Bree+Serif',
            'hosted'=> 'google',
            'css' => "'Bree Serif', serif",
            'label' => __( 'Bree Serif', 'astro' )
        ),
        '11' => array(
            'value' =>  'Cabin:400,600,700',
            'hosted'=> 'google',
            'css' => "'Cabin', sans-serif",
            'label' => __( 'Cabin', 'astro' )
        ),
        '48' => array(
            'value' =>  'Changa+One:400,400italic',
            'hosted'=> 'google',
            'css' => "'Changa One', cursive;",
            'label' => __( 'Changa One', 'astro' )
        ),
        '61' => array(
            'value' =>  'Cinzel:400,700,900',
            'hosted'=> 'google',
            'css' => "'Cinzel', serif;",
            'label' => __( 'Cinzel', 'astro' )
        ),
        '29' => array(
            'value' =>  'courier_new',
            'hosted'=> 'self',
            'css' => "'Courier New', Courier, monospace",
            'label' => __( 'Courier New', 'astro' )
        ),
        '24' => array(
            'value' =>  'Cousine:400,700',
            'hosted'=> 'google',
            'css' => "'Cousine', sans-serif",
            'label' => __( 'Cousine', 'astro' )
        ),
        '51' => array(
            'value' =>  'Coustard',
            'hosted'=> 'google',
            'css' => "'Coustard', serif;",
            'label' => __( 'Coustard', 'astro' )
        ),
        '56' => array(
            'value' =>  'Crimson+Text:400,400italic,600,600italic',
            'hosted'=> 'google',
            'css' => "'Crimson Text', serif;",
            'label' => __( 'Crimson Text', 'astro' )
        ),
        '22' => array(
            'value' =>  'Dosis:400,500,600,700',
            'hosted'=> 'google',
            'css' => "'Dosis', sans-serif",
            'label' => __( 'Dosis', 'astro' )
        ),
        '1' => array(
            'value' =>  'Droid+Sans:400,700',
            'css' => 'Droid Sans',
            'hosted'=> 'google',
            'label' => __( 'Droid Sans', 'astro' )
        ),
        '8' => array(
            'value' =>  'Droid+Serif:400,700,400italic,700italic',
            'css' => 'Droid Serif',
            'hosted'=> 'google',
            'label' => __( 'Droid Serif', 'astro' )
        ),
        '18' => array(
            'value' =>  'Economica:700',
            'hosted'=> 'google',
            'css' => "'Economica', sans-serif",
            'label' => __( 'Economica', 'astro' )
        ),
        '17' => array(
            'value' =>  'Exo:400,500,600,700,400italic&subset=latin,latin-ext',
            'hosted'=> 'google',
            'css' => "'Exo', sans-serif",
            'label' => __( 'Exo Sans', 'astro' )
        ),
        '15' => array(
            'value' =>  'Francois+One',
            'hosted'=> 'google',
            'css' => "'Francois One', sans-serif",
            'label' => __( 'Francois One', 'astro' )
        ),
        '30' => array(
            'value' =>  'helvetica',
            'hosted'=> 'self',
            'css' => "Helvetica, arial, sans-serif",
            'label' => __( 'Helvetica', 'astro' )
        ),
        '52' => array(
            'value' =>  'Josefin+Sans:400,600,700',
            'hosted'=> 'google',
            'css' => "'Josefin Sans', sans-serif",
            'label' => __( 'Josefin Sans', 'astro' )
        ),
        '63' => array(
            'value' =>  'Josefin+Slab:400,700,400italic,700italic',
            'hosted'=> 'google',
            'css' => "'Josefin Slab', serif",
            'label' => __( 'Josefin Slab', 'astro' )
        ),
        '26' => array(
            'value' =>  'Lato:300,400,700',
            'hosted'=> 'google',
            'css' => "'Lato', sans-serif",
            'label' => __( 'Lato', 'astro' )
        ),
        '59' => array(
            'value' =>  'Lekton:400,700,400italic&subset=latin,latin-ext',
            'hosted'=> 'google',
            'css' => "'Lekton', sans-serif",
            'label' => __( 'Lekton', 'astro' )
        ),
        '32' => array(
            'value' =>  'Lora',
            'hosted'=> 'google',
            'css' => "'Lora', serif",
            'label' => __( 'Lora', 'astro' )
        ),
        '46' => array(
            'value' =>  'Maven+Pro:400,700',
            'hosted'=> 'google',
            'css' => "'Maven Pro', sans-serif",
            'label' => __( 'Maven Pro', 'astro' )
        ),
        '54' => array(
            'value' =>  'Merriweather:400,300,700',
            'hosted'=> 'google',
            'css' => "'Merriweather', serif",
            'label' => __( 'Merriweather', 'astro' )
        ),
        '31' => array(
            'value' =>  'Montserrat',
            'hosted'=> 'google',
            'css' => "'Montserrat', sans-serif",
            'label' => __( 'Montserrat', 'astro' )
        ),
        '37' => array(
            'value' =>  'Muli:400,400italic',
            'hosted'=> 'google',
            'css' => "'Muli', sans-serif",
            'label' => __( 'Muli', 'astro' )
        ),
        '50' => array(
            'value' =>  'News+Cycle:400,700',
            'hosted'=> 'google',
            'css' => "'News Cycle', sans-serif",
            'label' => __( 'News Cycle', 'astro' )
        ),
        '60' => array(
            'value' =>  'Nobile:400,400italic,700,700italic',
            'hosted'=> 'google',
            'css' => "'Nobile', sans-serif",
            'label' => __( 'Nobile', 'astro' )
        ),
        '0' => array(
            'value' =>  'Open+Sans:400italic,600italic,700italic,400,600,700',
            'css' => 'Open Sans',
            'hosted'=> 'google',
            'label' => __( 'Open Sans', 'astro' )
        ),
        '47' => array(
            'value' =>  'Open+Sans+Condensed:300,700,300italic',
            'hosted'=> 'google',
            'css' => "'Open Sans Condensed', sans-serif",
            'label' => __( 'Open Sans Condensed', 'astro' )
        ),
        '45' => array(
            'value' =>  'Orienta',
            'hosted'=> 'google',
            'css' => "'Orienta', sans-serif",
            'label' => __( 'Orienta', 'astro' )
        ),
        '13' => array(
            'value' =>  'Oswald:700,400,300',
            'hosted'=> 'google',
            'css' => "'Oswald', sans-serif",
            'label' => __( 'Oswald', 'astro' )
        ),
        '36' => array(
            'value' =>  'Overlock+SC',
            'hosted'=> 'google',
            'css' => "'Overlock SC', cursive",
            'label' => __( 'Overlock SC', 'astro' )
        ),
        '64' => array(
            'value' =>  'Oxygen:400,700',
            'hosted'=> 'google',
            'css' => "''Oxygen', sans-serif",
            'label' => __( 'Oxygen', 'astro' )
        ),
        '33' => array(
            'value' =>  'Oxygen+Mono',
            'hosted'=> 'google',
            'css' => "'Oxygen Mono', sans-serif",
            'label' => __( 'Oxygen Mono', 'astro' )
        ),
        '41' => array(
            'value' =>  'Patua+One',
            'hosted'=> 'google',
            'css' => "'Patua One', cursive",
            'label' => __( 'Patua One', 'astro' )
        ),
        '39' => array(
            'value' =>  'Pompiere',
            'hosted'=> 'google',
            'css' => "'Pompiere', cursive",
            'label' => __( 'Pompiere', 'astro' )
        ),
        '2' => array(
            'value' =>  'PT+Sans:400,700,400italic,700italic',
            'hosted'=> 'google',
            'css' => "'PT Sans', sans-serif",
            'label' => __( 'PT Sans', 'astro' )
        ),
        '28' => array(
            'value' =>  'PT+Sans+Narrow',
            'hosted'=> 'google',
            'css' => "'PT Sans Narrow', sans-serif",
            'label' => __( 'PT Sans Narrow', 'astro' )
        ),
        '23' => array(
            'value' =>  'Questrial',
            'hosted'=> 'google',
            'css' => "'Questrial', sans-serif",
            'label' => __( 'Questrial', 'astro' )
        ),
        '35' => array(
            'value' =>  'Quicksand:400,700',
            'hosted'=> 'google',
            'css' => "'Quicksand', sans-serif",
            'label' => __( 'Quicksand', 'astro' )
        ),
        '34' => array(
            'value' =>  'Raleway:400,500,600,700',
            'hosted'=> 'google',
            'css' => "'Raleway', sans-serif",
            'label' => __( 'Raleway', 'astro' )
        ),
        '57' => array(
            'value' =>  'Rambla:400,700,400italic,700italic&subset=latin,latin-ext',
            'hosted'=> 'google',
            'css' => "'Rambla', sans-serif",
            'label' => __( 'Rambla', 'astro' )
        ),
        '62' => array(
            'value' =>  'Roboto:400,700,400italic,700italic',
            'hosted'=> 'google',
            'css' => "'Roboto', sans-serif",
            'label' => __( 'Roboto', 'astro' )
        ),
        '55' => array(
            'value' =>  'Roboto+Condensed:400italic,700italic,400,700&subset=latin,latin-ext',
            'hosted'=> 'google',
            'css' => "'Roboto Condensed', sans-serif",
            'label' => __( 'Roboto Condensed', 'astro' )
        ),
        '53' => array(
            'value' =>  'Rokkitt:400,700',
            'hosted'=> 'google',
            'css' => "'Rokkitt', serif",
            'label' => __( 'Rokkit', 'astro' )
        ),
        '12' => array(
            'value' =>  'Ruda:400,700,900',
            'hosted'=> 'google',
            'css' => "'Ruda', sans-serif",
            'label' => __( 'Ruda', 'astro' )
        ),
        '38' => array(
            'value' =>  'Rye',
            'hosted'=> 'google',
            'css' => "'Rye', cursive",
            'label' => __( 'Rye', 'astro' )
        ),
        '58' => array(
            'value' =>  'Sanchez:400italic,400&subset=latin,latin-ext',
            'hosted'=> 'google',
            'css' => "'Sanchez', serif",
            'label' => __( 'Sanchez', 'astro' )
        ),
        '44' => array(
            'value' =>  'Share+Tech',
            'hosted'=> 'google',
            'css' => "'Share Tech', sans-serif",
            'label' => __( 'Share Tech', 'astro' )
        ),
        '49' => array(
            'value' =>  'Source+Sans+Pro:400,700,400italic,700italic',
            'hosted'=> 'google',
            'css' => "'Source Sans Pro', sans-serif",
            'label' => __( 'Source Sans Pro', 'astro' )
        ),
        '40' => array(
            'value' =>  'Titillium+Web:400,400italic,600,700,700italic',
            'hosted'=> 'google',
            'css' => "'Titillium Web', sans-serif",
            'label' => __( 'Titillium Web', 'astro' )
        ),
        '6' => array(
            'value' =>  'Ubuntu:400,500,700,400italic,500italic,700italic',
            'hosted'=> 'google',
            'css' => "'Ubuntu', sans-serif",
            'label' => __( 'Ubuntu', 'astro' )
        ),
        '27' => array(
            'value' =>  'Vollkorn:400italic,400',
            'hosted'=> 'google',
            'css' => "'Vollkorn', serif",
            'label' => __( 'Vollkorn', 'astro' )
        ),
        '3' => array(
            'value' =>  'Yanone+Kaffeesatz',
            'hosted'=> 'google',
            'css' => 'Yanone Kaffeesatz',
            'label' => __( 'Yanone Kaffeesatz', 'astro' )
        )
    );
    
    function astro_scripts() 
    {
        if (function_exists('wp_get_theme'))
            $prk_theme = wp_get_theme();
        else
        {
            $prk_theme->Version="1";
        }
        global $prk_astro_options;
        global $select_font_options;
        //WOOCOMMERCE STUFF
        if (PRK_WOO=="true") 
        {
            // Change number or products per row to 3
            add_filter('loop_shop_columns', 'loop_columns');
            if (!function_exists('loop_columns')) {
                function loop_columns() {
                    return 3; // 3 products per row
                }
            }
            global $prk_astro_options;
            if (isset($prk_astro_options['woo_cart_display']) && $prk_astro_options['woo_cart_display']!="no")
            {
                add_filter( 'wp_nav_menu_items', 'prk_cart_menu_item', 10, 2 );
            }
            function prk_cart_menu_item ( $items, $args ) {
                //CHANGE ONLY THE MAIN MENU
                if( $args->theme_location == 'prk_main_navigation' ) {
                    global $woocommerce;
                    global $prk_astro_options;
                    $cart_url = $woocommerce->cart->get_cart_url();
                    if ($cart_url=="")
                        $cart_url="#";
                    $cart_contents_count = $woocommerce->cart->cart_contents_count;
                    $cart_contents = sprintf(_n('%d Item', '%d Items', $cart_contents_count, 'astro'), $cart_contents_count);
                    $cart_total = $woocommerce->cart->get_cart_total();
                    if ($cart_contents_count > 0 || (isset($prk_astro_options['woo_cart_always_display']) && $prk_astro_options['woo_cart_always_display']=="1"))
                    {
                        $items .= '<li id="prk_hidden_cart"><a href="#">';
                        $woo_classes="";
                        $items .= '<div class="prk_cart_label '.$woo_classes.'">';
                        if ($prk_astro_options['woo_cart_info']=="items")
                            $items .= $cart_contents;
                        if ($prk_astro_options['woo_cart_info']=="price")
                            $items .= $cart_total;
                        if ($prk_astro_options['woo_cart_info']=="both")
                            $items .= $cart_contents.' : '. $cart_total;
                        $items .='</div></a></li>';
                    }
                    return $items;
                }
                else
                {
                    //RETURN THE DEFAULT MENU
                    return $items;
                }
            }
        }
        
        wp_enqueue_style('astro_custom_style', get_template_directory_uri() . '/css/main.css', false, $prk_theme->Version);
        if ($prk_astro_options['prk_responsive']=="1") {
            wp_enqueue_style('pirenko_responsive_style', get_template_directory_uri() . '/css/responsive.css', false, $prk_theme->Version);
        }
        if (is_child_theme()) {
            wp_enqueue_style('astro_child_styles', get_stylesheet_directory_uri() . '/style.css', false, $prk_theme->Version);
        }
        //OVERRIDE OPTIONS - ONLY FOR PREVIEW MODE
        if (INJECT_STYLE) {
            include(ABSPATH . 'wp-content/plugins/color-manager-astro/style_header.php');
        }
        if (is_single() && comments_open() && get_option('thread_comments')) 
        {
            wp_enqueue_script('comment-reply');
        }
    
        wp_register_script('astro_main', get_template_directory_uri() . '/js/main-min.js', array('jquery'), $prk_theme->Version, true);
        wp_enqueue_script('astro_main');
        wp_register_script('astro_other', get_template_directory_uri() . '/js/other-min.js', array('jquery'), $prk_theme->Version, true);
        wp_enqueue_script('astro_other');

        if(isset($prk_astro_options['google_maps_key']) && $prk_astro_options['google_maps_key']!="") {
            $gapy='?key='.$prk_astro_options['google_maps_key'];
        }
        else {
            $gapy="";
        }
        wp_register_script('astro_maps','https://maps.googleapis.com/maps/api/js'.$gapy, array('jquery'), $prk_theme->Version, true);
        wp_enqueue_script('astro_maps');
        
        wp_localize_script('astro_main', 'ajax_var', array(
            'url' => admin_url('admin-ajax.php'),
            'nonce' => wp_create_nonce('ajax-nonce'),
        ));

        global $prk_portfolio_link;
        $prk_portfolio_link="";
        $prk_blog_linked="";
        if ((is_single() && get_post_type()=="post") || (is_archive() && (PRK_WOO=="false" || (PRK_WOO=="true" && !is_woocommerce()) )))
        {
            $prk_blog_linked=get_page_link(prk_get_parent_blog());
        }
        if (get_post_type()=="pirenko_portfolios")
        {
            $prk_portfolio_link=get_page_link(prk_get_parent_portfolio());
        }
        $home_link="";
        $home_slug="";
        if (is_page_template ('template_blog.php') && is_front_page())
        {
            $home_link=get_page_link(get_query_var('page_id'));
            $home_slug=the_slug(get_query_var('page_id'));
        }
        if ($prk_portfolio_link!="")
            $prk_blog_linked="";
        $custom_opacity=floatval($prk_astro_options['custom_opacity']/100);
        $custom_opacity_folio=floatval($prk_astro_options['custom_opacity_folio']/100);
        $custom_opacity_carousel=floatval($prk_astro_options['carousel_background_opacity']/100);
        if (!isset($prk_astro_options['custom_shadow']))
            $prk_astro_options['custom_shadow']=0;
        $custom_shadow=floatval($prk_astro_options['custom_shadow']/100);

        //FONT MANAGEMENT
        $options = $prk_astro_options;
        foreach ( $select_font_options as $option_header ) 
        {
            if ($prk_astro_options['header_font'] == $option_header['value'])
            {
                $options['header_font']=$option_header;
                break;
            }
        }
        $prk_font_options = get_option('prk_font_plugin_option');
        if ($prk_font_options!="")
        {
            foreach ($prk_font_options as $font) {
                if ($font['erased']=="false") {
                    if ($options['header_font'] == $font['value'])
                    {
                        $options['header_font']=$font;
                    } 
                }
            }
        }
        foreach ( $select_font_options as $option_body ) 
        {
            if ($prk_astro_options['body_font'] == $option_body['value'])
            {
                $options['body_font']=$option_body;
                break;
            }
        }
        $prk_font_options = get_option('prk_font_plugin_option');
        if ($prk_font_options!="") 
        {
            foreach ($prk_font_options as $font) {
                if ($font['erased']=="false") {
                    if ($options['body_font'] == $font['value'])
                    {
                        $options['body_font']=$font;
                    } 
                }
            }
        }
        //GOOGLE
        $protocol = is_ssl() ? 'https' : 'http';
        if ($options['header_font']['hosted']=='google')
        {
            wp_enqueue_style( 'prk_header_font', "$protocol://fonts.googleapis.com/css?family=".$options['header_font']['value'] );
        }
        if ($options['header_font']['hosted']=='theme')
        {
                wp_enqueue_style( 'prk_header_font', get_template_directory_uri() . '/inc/fonts/'.$options['header_font']['value'].'/stylesheet.css',false,$prk_theme->Version);
        }
        if ($options['header_font']['hosted']=='plugin')
        {
                wp_enqueue_style( 'prk_header_font', $options['header_font']['value'],false,$prk_theme->Version);
        }
        if ($options['body_font']['hosted']=='google')
        {
            wp_enqueue_style( 'prk_body_font', "$protocol://fonts.googleapis.com/css?family=".$options['body_font']['value'] );
        }
        if ($options['body_font']['hosted']=='theme')
        {
            wp_enqueue_style( 'prk_body_font', get_template_directory_uri() . '/inc/fonts/'.$options['body_font']['value'].'/stylesheet.css',false,$prk_theme->Version);
        }
        if ($options['body_font']['hosted']=='plugin')
        {
                wp_enqueue_style( 'prk_body_font', $options['body_font']['value'],false,$prk_theme->Version);
        }

        $woo_link="";
        $woo_link_for_cart="";
        //PLACE WOOCOMMERCE IF NEEDED
        if (PRK_WOO=="true") {
            $woo_colors = array_map( 'esc_attr', (array) get_option( 'woocommerce_frontend_css_colors' ) );
            if (isset($prk_astro_options['woo_cart_display']) && $prk_astro_options['woo_cart_display']!="") {
                $woo_link_for_cart=get_page_link($prk_astro_options['woo_cart_display']);
            }
            if (is_woocommerce() || is_cart() || is_checkout() || is_order_received_page()) {
                $woo_link=get_page_link(woocommerce_get_page_id('shop'));
            }
        }
        if (!isset($woo_colors['primary']) ) 
            $woo_colors['primary'] = '';
        if (PRK_ASTRO_COMPOSER) {
            $sharrre_dir_prk=plugins_url("astro_framework");
        }
        else {
            $sharrre_dir_prk="";
        }
        if (!isset($prk_astro_options['folio_arrows']) ) 
            $prk_astro_options['folio_arrows'] = '0';
        wp_localize_script('astro_main', 'theme_options', array(
            'ajax_calls' => $prk_astro_options['ajax_calls'],
            'custom_opacity' => $custom_opacity,
            'custom_opacity_folio' => $custom_opacity_folio,
            'portfolio_link' => $prk_portfolio_link,
            'blog_link' => $prk_blog_linked,
            'home_link' => $home_link,
            'home_slug' => $home_slug,
            'active_color' => $prk_astro_options['active_color'],
            'inputs_bordercolor' => $prk_astro_options['inputs_bordercolor'],
            'lines_color' => $prk_astro_options['lines_color'],
            'inactive_color' => $prk_astro_options['inactive_color'],
            'menu_up_color' => $prk_astro_options['menu_up_color'],
            'color_header' => $prk_astro_options['color_header'],
            'menu_active_bk_color' => $prk_astro_options['menu_active_bk_color'],
            'background_color_menu' => $prk_astro_options['background_color_menu'],
            'background_color_btns' => $prk_astro_options['background_color_btns'],
            'background_color_btns_blog' => $prk_astro_options['background_color_btns_blog'],
            'menu_active_color' => $prk_astro_options['menu_active_color'],
            'logo_bar_width' => $prk_astro_options['logo_bar_width'],
            'site_background_color' => $prk_astro_options['site_background_color'],
            'carousel_background_opacity' => $custom_opacity_carousel,
            'background_color' => $prk_astro_options['background_color'],
            'bd_headings_color' => $prk_astro_options['bd_headings_color'],
            'titles_color_footer' => $prk_astro_options['titles_color_footer'],
            'resp_mode' => $prk_astro_options['prk_responsive'],
            'sharrre_dir_prk' => $sharrre_dir_prk,
            'theme_buttons_color' => $prk_astro_options['theme_buttons_color'],
            'buttons_color' => $prk_astro_options['buttons_color'],
            'woo_color' => $woo_colors['primary'],
            'woo_link_for_cart' => $woo_link_for_cart,
            'woo_link' => $woo_link,
            'likes_text' => $prk_astro_options['likes_text'],
            'folio_arrows' => $prk_astro_options['folio_arrows'],
            'active_woocommerce' => PRK_WOO,
            'active_visual_composer' => PRK_ASTRO_COMPOSER
        ));
        
        //OVERRIDE OPTIONS - ONLY FOR PREVIEW MODE
        if (INJECT_STYLE)
        {
            include(ABSPATH . 'wp-content/plugins/color-manager-astro/style.php');  
        }
        $active_color = $options['active_color'];
        $menu_up_color = $options['menu_up_color'];
        $menu_active_color=$options['menu_active_color'];
        if ($options['background_color_btns']!="")
        {
            $background_color_btns=$options['background_color_btns'];
            $splitted_background_color_btns=html2rgb($background_color_btns,'1');
        }
        else
            $background_color_btns="empty";
        $background_color_btns_blog=$options['background_color_btns_blog'];
        $shadow_color=$options['shadow_color'];
        $lines_color=$options['lines_color'];
        $body_color_footer = $options['body_color_footer'];
        $custom_opacity=floatval($options['custom_opacity']/100);
        $custom_opacity_folio=floatval($options['custom_opacity_folio']/100);
        $custom_shadow=floatval($options['custom_shadow']/100);
        $custom_opacity_carousel=floatval($prk_astro_options['carousel_background_opacity']/100);
        $custom_opacity_tips=floatval($prk_astro_options['tips_background_opacity']/100);

        $background_color_header = $prk_astro_options['background_color_header'];
        $background_color_menu = $prk_astro_options['background_color_menu'];
        $inactive_color = $prk_astro_options['inactive_color'];
        $bd_headings_color = $prk_astro_options['bd_headings_color'];
        $background_color = $prk_astro_options['background_color'];
        $inputs_bordercolor = $prk_astro_options['inputs_bordercolor'];
        $site_background_color = $prk_astro_options['site_background_color'];
        $tips_background_color = $prk_astro_options['tips_background_color'];
        

        $splitted_active_color= html2rgb($active_color,'1');
        $splitted_menu_up_color= html2rgb($menu_up_color,'1');
        $splitted_background_color=html2rgb($background_color,'1');
        $splitted_site_background_color=html2rgb($site_background_color,'1');
        $splitted_background_color_btns_blog=html2rgb($background_color_btns_blog,'1');
        $splitted_bd_headings_color = html2rgb($bd_headings_color,'1');
        $splitted_inactive_color=html2rgb($inactive_color,'1');
        $splitted_shadow_color=html2rgb($shadow_color,'1');
        $splitted_lines_color=html2rgb($lines_color,'1');
        $splitted_background_color_header=html2rgb($background_color_header,'1');
        $splitted_menu_active_color = html2rgb($options['menu_active_color'],'1');
        $splitted_carousel_background_color = html2rgb($prk_astro_options['carousel_background_color'],'1');
        $splitted_tips_background_color = html2rgb($prk_astro_options['tips_background_color'],'1');
        
        //START BUILDING CSS SENTENCE TO CUSTOMIZE CONTENT
        $css = "";
        //ADD CUSTOM CSS
        //ADJUT LOGO POSITION
        $css .= "#alt_logo_holder
                {
                    margin-top:" .$options['menu_vertical']. "px;
                }
                ";
        $css .= "body,
                .search-query,
                .regular_font,
                input,
                textarea {
                    font-family:".$options['body_font']['css'].";
                }
                .vc_tta-accordion .vc_tta-panel-heading,
                .vc_tta-container .vc_tta-tabs-list a,
                #calendar_wrap caption,
                .comments_slider .comment-link,
                .comments_slider .comment-author,
                .wpb_accordion .wpb_accordion_wrapper .wpb_accordion_header,
                .wpb_tabs_nav a,
                .theme_button,
                .theme_button_inverted,
                .theme_button input,
                .theme_button_inverted input,
                .prk_composer_title,
                .wpb_button,
                .wpb_heading,
                .wpb_wrapper h2,
                .header_font,
                .nav,
                #nav_footer,
                .sf-menu,
                .day,
                .month,
                .theme_tags,
                .homepage-header,
                .sidebar_bubble,
                .related_single_title,
                .widget-title,
                .masonr_title,
                .masonr_date,
                .entry_title_single,
                .search_rs_ttl,
                .headings_top,
                .post_meta_single .after_icon,
                .post_meta_single .bf_icon,
                .prevnext_single .after_icon,
                .prevnext_single .bf_icon,
                header_font,
                .pir_divider_cats,
                .shortcode-title,
                #single_post_teaser,
                #nav-main.resp_mode li > a,
                #single_portfolio_meta .single_heading,
                .type-post .prevnext_single,
                #single_page_teaser,
                .vc_cta3-content-header,
                #pir_categories {
                    font-family:".$options['header_font']['css'].";
                }
                ";
        //WIDTH SET MANAGEMENT
        $css .= ".prk_inner_block {
            max-width: ".$prk_astro_options['custom_width']."px;
        }";
        global $retina_device;
        global $post;
        //SET THE BODY COLOR
        $css .=
        "body,
        #contact_info,
        #project_info {
            background-color:".$prk_astro_options['site_background_color']."; 
        }
        ";
        if (isset($options['pattern'])) {
            $path_parts = pathinfo($options['pattern']);
            if (isset($path_parts['filename']) && $path_parts['filename']!="" && $path_parts['filename']!="prk_no_pattern")
            {
                if ($retina_device=="prk_retina")
                {
                    $vt_image = vt_resize( '', get_template_directory_uri() . "/images/patterns/".$path_parts['filename']."_@2X.".$path_parts['extension'] , 2000, 2000, false );
                    //CHECK IF RETINA PATTERN EXISTS
                    if (isset($vt_image['not_found']) && $vt_image['not_found']!="true") {
                        $half_width=$vt_image['width']/2;
                        $css .=
                        "body {
                            background: url(" . get_template_directory_uri() . "/images/patterns/".$path_parts['filename']."_@2X.".$path_parts['extension'].") fixed;
                            background-size:".$half_width."px auto;
                        }";
                    }
                    else
                    {
                        $css .=
                        "body {
                            background: url(" . $options['pattern'].") fixed;
                        }";
                    }
                }
                else
                {
                    $css .=
                    "body {
                        background: url(" . $options['pattern'].") fixed;
                    }";
                }
            }
        }
        //COLOR MANAGEMENT
        $woo_colors = array_map( 'esc_attr', (array) get_option( 'woocommerce_frontend_css_colors' ) );
        if ( isset($woo_colors['primary']) ) 
        {
            $css .=
            "a.added_to_cart,
            a.added_to_cart:hover,
            .terms a,
            .terms a:hover {
                color:".$woo_colors['primary'].";   
            }
            ";
        }
        if ( $background_color_btns!="empty" ) 
        {
            $css .=
            ".member_colored_block_in,
            .grid_colored_block,
            .related_fader_grid {
                background-color:$background_color_btns;
                background-color: rgba($splitted_background_color_btns[0], $splitted_background_color_btns[1], $splitted_background_color_btns[2], ".$custom_opacity_folio.");
            }
            ";
        }
        if ($prk_astro_options['logo_bar_width']=="")
        {
            $logo_bar_width="104";
        }
        else
        {
            $logo_bar_width=$prk_astro_options['logo_bar_width'];
        }
        $less_ten=intval($logo_bar_width)-10;
        $margin_ten=(intval($logo_bar_width)-44)/2;
        $padding_ten=(intval($logo_bar_width)-10)/2-4;
        $always_sum=$prk_astro_options['menu_width']+$prk_astro_options['logo_bar_width'];
        $always_sum_contact=768-($prk_astro_options['menu_width']+$prk_astro_options['logo_bar_width']);
        if ($always_sum_contact<580)
        {
            $css .=
            "
            .astro_nav_right #contact_info.opened_contact {
                right:".$always_sum_contact."px;
            }
            #contact_info {
                max-width:".$always_sum_contact."px;
            }
            ";
        }
        $css .=
            "
            #left_bar_wrapper {
                padding-left:".$padding_ten."px;
            }
            #menu_hover_trigger,
            #left_bar_wrapper,
            #nav-collapsed-icon,
            #prk_responsive_menu {
                width:".$logo_bar_width."px;
            }
            #alt_logo_holder {
                width:".$less_ten."px;
            }
            #prk_ferro_left {
                left:".$logo_bar_width."px;
            }
            #left_bar_wrapper {
                left:-".$logo_bar_width."px;
            }
            .astro_nav_right #prk_ferro_left {
                right:".$logo_bar_width."px;
                left:inherit;
            }
            .astro_nav_right #left_bar_wrapper {
                right:-".$logo_bar_width."px;
                left:inherit;
            }
            .astro_landing_page #prk_responsive_menu {
                left:-".$logo_bar_width."px;
            }#astro_featured_header {
                padding-left:".$logo_bar_width."px;
                margin-left:-".$logo_bar_width."px;
            }
            .astro_nav_right #astro_featured_header {
                padding-right:".$logo_bar_width."px;
                margin-right:-".$logo_bar_width."px;
                padding-left:inherit;
                margin-left:inherit;
            }
            .astro_nav_right #contact-image-fth.fullscreen #contact-image-cover {
                margin-left:".$logo_bar_width."px;
            }
            .astro_nav_right #contact-image-fth.fullscreen #contact-image-cover {
                margin-left:inherit;
                margin-right:".$logo_bar_width."px;
            }
            #nav-collapsed-icon {
                padding-left:".$margin_ten."px;
            }
           .astro_nav_right #nav-collapsed-icon {
                padding-right:".$margin_ten."px;
            }
            .always_menu .forced_closing #prk_ajax_container,
            #prk_ajax_container {
                margin: 0px 0px 0px ".$logo_bar_width."px;
            }
            .astro_nav_right.always_menu .forced_closing #prk_ajax_container,
            .astro_nav_right #prk_ajax_container {
                margin: 0px ".$logo_bar_width."px 0px 0px;
            }
            .always_menu #st-container {
                width:".$prk_astro_options['menu_width']."px;
            }
            .always_menu #prk_responsive_menu {
                left:".$prk_astro_options['menu_width']."px;
            }
            .always_menu #prk_ajax_container {
                margin-left:".$always_sum."px;
            }
            .always_menu.astro_nav_right #prk_ajax_container {
                margin:0px ".$always_sum."px 0px 0px;
            }
            .always_menu.astro_nav_right #prk_responsive_menu {
                right:".$prk_astro_options['menu_width']."px;
                left:inherit;
            }
            ";
        if ( isset($prk_astro_options['prk_css_anims']) &&  $prk_astro_options['prk_css_anims']=='1') 
        {
            $css .="
            .grid_single_title>a.fade_anchor {
                opacity: 0;
                filter: alpha(opacity=0);
                margin-left: 10px;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
            }
            .as-panel .titled_block .inner_skills {
                opacity: 0;
                filter: alpha(opacity=0);
                margin-left: 10px;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
                -moz-transition-delay: 0.2s;
                -webkit-transition-delay: 0.2s;
                -o-transition-delay: 0.2s;
                transition-delay: 0.2s;
            }
            .as-panel .prk_heart_carousel {
                opacity: 0;
                filter: alpha(opacity=0);
                margin-right: 10px;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
                -moz-transition-delay: 0.2s;
                -webkit-transition-delay: 0.2s;
                -o-transition-delay: 0.2s;
                transition-delay: 0.2s;
            }
            #single_blog_content {
                opacity: 0;
                filter: alpha(opacity=0);
                margin-top: 30px;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
                -moz-transition-delay: 0.1s;
                -webkit-transition-delay: 0.1s;
                -o-transition-delay: 0.1s;
                transition-delay: 0.1s;
            }
            #sidebar.on_single {
                opacity: 0;
                filter: alpha(opacity=0);
                margin-top: 30px;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
                -moz-transition-delay: 0.3s;
                -webkit-transition-delay: 0.3s;
                -o-transition-delay: 0.3s;
                transition-delay: 0.3s;
            }
            #prk_full_size_single {
                opacity: 0;
                filter: alpha(opacity=0);
                margin-top: 30px;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
                -moz-transition-delay: 0.1s;
                -webkit-transition-delay: 0.1s;
                -o-transition-delay: 0.1s;
                transition-delay: 0.1s;
            }
            #full-entry-right {
                z-index: 1;
                padding-top: 15px;
                width: 285px;
                position: absolute;
                right: 20px;

                opacity: 0;
                filter: alpha(opacity=0);
                top:30px;
                -webkit-transition: all 0.2s;
                -moz-transition: all 0.2s;
                -o-transition: all 0.2s;
                transition: all 0.2s;
                -moz-transition-delay: 0.3s;
                -webkit-transition-delay: 0.3s;
                -o-transition-delay: 0.3s;
                transition-delay: 0.3s;
            }
            ";
        }
        
        $css .= "
                .naver_back,
                .sf-menu li a,
                .sf-menu li a:hover,
                .prk_gallery_title {
                    color: $menu_up_color;
                }
                a,
                a:hover,
                #top_widgets h3,
                .home_blog_date_text h4,
                .contact_error,
                #top_widgets .email a:hover,
                h3 a:hover,
                .entry-title a:hover,
                .blog_meta>p>a:hover,
                #blog_entries_masonr .blog_meta a:hover,
                #single_portfolio_meta .comments-link:hover,
                .blog_meta a.comments-link:hover,
                .blog_meta a:hover,
                #mini_menu a:hover,
                .post_meta_single a:hover,
                .entry_title_single .masonr_date>span,
                .post_meta_single #previous_button:hover .after_icon,
                .post_meta_single #next_button:hover .bf_icon,
                #nav-main.resp_mode li > a:hover,
                .a_colored a:hover,
                .recentposts_ul_shortcode .blog_meta a:hover,
                .classic_meta .post-categories li a:hover,
                .headings_top,
                .tiny_bullet,
                .not_zero_color {
                    color: $active_color;
                }
                #calendar_wrap caption,
                .scode_categories li>a,
                #pir_categories li>a,
                .wpb_heading,
                .vc_cta3-content-header,
                .zero_color,
                .zero_color a,
                .header_font.zero_color a,
                a.zero_color,
                .zero_color a:hover,
                a.zero_color:hover {
                    color: $bd_headings_color;  
                }
                #after_widgets,
                #footer_in .default_color a,
                #footer_in {
                    color:$body_color_footer;
                }
                #footer_in .not_zero_color,
                #footer_in a,
                #footer_in .theme_button a,
                .footer .widget-title {
                    color:".$options['titles_color_footer'].";
                }
                #footer_in .theme_button_inverted a:hover,
                #footer_in .theme_button a:hover {
                    color:".$options['titles_color_footer']." !important;
                }
                body,
                .prk_tags_ul a,
                .blog_meta>p>a,
                .flexslider .headings_body,
                .shortcode_slider .headings_body,
                .padded_text a,
                .post_meta_single .after_icon,
                .post_meta_single .bf_icon,
                .post_meta_single a,
                .blog_meta a,
                .default_color,
                .default_color a,
                .default_color a:hover,
                a.default_color,
                a.default_color:hover,
                .titled_block .grid_single_title span a,
                #no_more .prk_titlify,
                .single_entry_tags a,
                .contact_address_right_single a,
                #astro_search,
                .masonr_read_more a,
                .blog_meta a,
                #nav-main.resp_mode li > a,
                a.smoothed_a,
                .vc_tta-container .vc_tta-tabs-list a,
                .tagcloud a,
                .pirenko_highlighted,
                a.alt_smoothed_a,
                .prk_minimal_button a,
                .prk_minimal_button input,
                select {
                    color:$inactive_color;
                }
                ::-webkit-input-placeholder {
                   color: $inactive_color;
                }
                :-moz-placeholder { /* Firefox 18- */
                   color: $inactive_color;  
                }
                ::-moz-placeholder {  /* Firefox 19+ */
                   color: $inactive_color;  
                }
                :-ms-input-placeholder {  
                   color: $inactive_color;  
                }
                .sf-menu li li.before_nav_icon:before,
                .entry-title a,
                a.lk_text,
                .sidebar_bubble,
                a.lk_text:hover,
                .theme_tags li a,
                .theme_tags li a:hover,
                .related_post a,
                .prk_folio_control,
                .prk_price_featured,
                .menu_bk_color {
                    color:$background_color;
                }
                #contact-form textarea {  
                   color:$inactive_color;
                }
                .flex-prev,
                .flex-next,
                a.flex-prev:hover,
                a.flex-next:hover,
                #previous_button a,
                #previous_button a:hover,
                #next_button a,
                #next_button a:hover,
                .mini_arrow_up,
                .prevnext_single a,
                .bx-controls-direction a,
                .bx-controls-direction a:hover,
                #back_portfolio a,
                .prk_price_table.featured,
                .prk_price_table.featured .zero_color,
                .prk_price_table.featured .default_color,
                .site_background_colored a,
                a.site_background_colored,
                .site_background_colored,
                .prk_blockquote.colored_background .in_quote,
                .prk_heart_masonry,
                .prk_button_like,
                .body_bk_color,
                .blog_date,
                #prk_gallery_control_right,
                #prk_gallery_control_left,
                #no_more,
                .prk_sharrre_button a,
                #footer_in .theme_button input,
                .theme_button input,
                .theme_button a,
                .theme_button a:hover,
                .theme_button button,
                #pages_static_nav a,
                .member_function,
                .theme_button_inverted a,
                .theme_button_inverted a:hover,
                #tp_side_close_icon .icon-up-open:before,
                #tp_side_icon .icon-down-open:before,
                .prk_progress_bar,
                .vc_tta-accordion .vc_tta-panel-heading a,
                .vc_tta-container .vc_tta-tabs-list li.vc_active a,
                .vc_tta-container .vc_tta-tabs-list li:hover a {
                    color:$site_background_color;
                }
                .comment_floated:after,
                .flex-control-nav li a {
                    background-color: $site_background_color;
                }
                .flex-control-nav li a {
                    -webkit-box-shadow: 0px 0px 1px rgba($splitted_site_background_color[0], $splitted_site_background_color[1], $splitted_site_background_color[2], 0.75);
                    -mobox-shadow: 0px 0px 1px rgba($splitted_site_background_color[0], $splitted_site_background_color[1], $splitted_site_background_color[2], 0.75);
                    box-shadow: 0px 0px 1px rgba($splitted_site_background_color[0], $splitted_site_background_color[1], $splitted_site_background_color[2], 0.75);
                }
                .sf-menu li.active>a {
                    color:$menu_active_color;
                }
                .sf-menu li.active {
                    background-color:".$prk_astro_options['menu_active_bk_color'].";
                }
                #calendar_wrap caption,
                .bd_headings_text_shadow {
                    text-shadow:0px 0px 1px rgba($splitted_bd_headings_color[0], $splitted_bd_headings_color[1], $splitted_bd_headings_color[2],0.2);
                }
                .vc_tta-container .vc_tta-tabs-list a,
                .body_text_shadow {
                    text-shadow:0px 0px 1px rgba($splitted_inactive_color[0], $splitted_inactive_color[1], $splitted_inactive_color[2],0.2);
                }
                .prk_menu_block,
                .flexslider .theme_button_inverted a,
                .navigation-previous,
                .navigation-next,
                .flex-direction-nav li a.flex-next,
                .flex-direction-nav li a.flex-prev {
                    background-color:".$prk_astro_options['theme_buttons_color'].";
                }
                #nprogress .bar {
                    background-color:".$prk_astro_options['preloader_color'].";
                }
                #menu_section.at_top {
                    border-right:1px solid ".$background_color_header.";
                }
                #single_slider .spinner-icon,
                .shortcode_slider.super_height .spinner-icon,
                .project_ajax_loader .spinner-icon,
                #nprogress .spinner-icon {
                    border-top-color:".$prk_astro_options['preloader_color'].";
                    border-left-color:".$prk_astro_options['preloader_color'].";
                }
                #pages_static_nav .spinner-icon {
                    border-top-color:".$prk_astro_options['preloader_color'].";
                    border-left-color:".$prk_astro_options['preloader_color'].";
                }
                .prk_blockquote.colored_background .in_quote:after {
                    border-color: $site_background_color rgba($splitted_site_background_color[0], $splitted_site_background_color[1], $splitted_site_background_color[2],0.35) $site_background_color rgba($splitted_site_background_color[0], $splitted_site_background_color[1], $splitted_site_background_color[2],0.35);
                }
                #author_area.prk_blockquote.colored_background .in_quote:after {
                    border-color: $site_background_color rgba($splitted_inactive_color[0], $splitted_inactive_color[1], $splitted_inactive_color[2],0.15) $site_background_color rgba($splitted_inactive_color[0], $splitted_inactive_color[1], $splitted_inactive_color[2],0.15);
                }
                #astro_menu.under_logo .sf-menu li a {
                    color:".$menu_up_color." !important;
                }
                .headings_top,
                .active_text_shadow {
                    text-shadow:0px 0px 1px rgba($splitted_active_color[0], $splitted_active_color[1], $splitted_active_color[2],0.3);
                }
                #footer_in input::-webkit-input-placeholder {
                   color: $body_color_footer;
                }
                #footer_in input:-moz-placeholder { /* Firefox 18- */
                   color: $body_color_footer;  
                }
                #footer_in input::-moz-placeholder {  /* Firefox 19+ */
                   color: $body_color_footer;  
                }
                #footer_in input:-ms-input-placeholder {  
                   color: $body_color_footer;
                }
                .commentlist li .comment-author img {
                    border:4px solid $site_background_color;
                }
                .sub-menu .prk_inner_tip,
                .sub-menu .tip_top_hide,
                .sf-menu li li,
                #st-container,
                #menu_section {
                    background-color:$background_color_menu;
                }
                #outerSliderWrapper,
                #pages_static_nav a,
                #left_bar_wrapper,
                #prk_responsive_menu,
                #astro_menu {
                    background-color:$background_color_header;
                }
                .tooltipster-light {
                    color:".$prk_astro_options['tips_text_color'].";
                    background-color:".$tips_background_color.";
                    background-color: rgba($splitted_tips_background_color[0], $splitted_tips_background_color[1], $splitted_tips_background_color[2],".$custom_opacity_tips.");
                }
                .left_bar_colored,
                #prj_naver,
                #prj_ttl,
                #copy {
                    color: ".$prk_astro_options['color_header'].";
                }
                #nav-collapsed-icon .prk_menu_block {
                    background-color: ".$prk_astro_options['color_header'].";
                }
                .as-panel .grid_single_title .inner_skills,
                .as-panel .grid_single_title a {
                    color: ".$prk_astro_options['carousel_text_color'].";
                }
                .accordion-slider .as-layer.as-black,
                .as-panel .titled_block {
                    background-color:".$prk_astro_options['carousel_background_color'].";
                    background-color: rgba($splitted_carousel_background_color[0], $splitted_carousel_background_color[1], $splitted_carousel_background_color[2],".$custom_opacity_carousel.");
                }
                .accordion-slider .as-pagination-button {
                    border:2px solid ".$prk_astro_options['carousel_nav_color'].";
                }
                .accordion-slider .as-pagination-buttons .as-selected {
                    background-color:".$prk_astro_options['carousel_nav_color'].";
                }
                .theme_button_inverted button,
                .theme_button button:hover,
                .theme_button_inverted a {
                    background-color: ".$options['theme_buttons_color'].";
                }
                #blog_entries .blog_date,
                .prk_price_table.featured .prk_price_header,
                #prk_gallery_control_right,
                #prk_gallery_control_left,
                .classic_meta .post-categories li a,
                .prk_sharrre_father,
                .prk_sharrre_button,
                #in_no_more {
                    background-color: $bd_headings_color;
                }
                .blog_fader_grid {
                    background-color:$background_color_btns_blog;
                    background-color: rgba($splitted_background_color_btns_blog[0], $splitted_background_color_btns_blog[1], $splitted_background_color_btns_blog[2], ".$custom_opacity.");
                }
                .vc_tta-accordion .vc_tta-panel-heading,
                #astro_menu .mCSB_scrollTools .mCSB_dragger .mCSB_dragger_bar,
                .bx-controls-direction a,
                .prk_button_like,
                .theme_tags li.active,  
                .blog_icon,
                .inner_line_block,
                .inner_line_single_block,
                .home_fader_grid,
                .theme_button input,
                .theme_button a,
                .theme_button button,
                .sidebar_bubble,
                .big_icon,
                .single_special_line,
                #right_rect,
                #left_rect,
                .special_line,
                .member_function,
                .prk_blockquote.colored_background,
                #tp_side_plus,
                .blog_squared_icon,
                .prk_blockquote.colored_background,
                .tiny_line,
                .back_activated_color,
                .wpb_content_element .wpb_accordion_wrapper .wpb_accordion_header,
                .active_bar {
                    background-color:$active_color;
                }
                .vc_tta-accordion .vc_tta-panel-body,
                .vc_tta-container .vc_tta-panel,
                .vc_tta-container .vc_tta-tabs-list li,
                .prk_speech,
                .small_squared,
                .inactive_bar,
                .cart-collaterals table,
                .shop_table,
                .woocommerce #payment,
                .woocommerce-error,
                .prk_price_header,
                .liner,
                .es-nav span,
                .btn-primary,
                #magic-line,
                #entries_navigation_blog a,
                .prk_minimal_button a,
                .prk_minimal_button input,
                #submit_comment_div a, 
                #submit_message_div a,
                .tagcloud a,
                .pirenko_highlighted,
                #nav-main.resp_mode,
                .timeline_tip_top_hide,
                .prk_timeline_tip,
                .tip_top_hide,
                .prk_inner_tip,
                .prk_blockquote,
                #author_area.prk_blockquote.colored_background,
                .colored_bg {
                    background-color:$background_color;
                }
                .inner_line_sidebar_block
                {
                    background-color:rgba($splitted_active_color[0], $splitted_active_color[1], $splitted_active_color[2],0.5);
                }
                .sf-menu .sub-menu {
                    border-top:0px solid $background_color_header;
                }
                #astro_menu.under_logo .sf-menu>li>a {
                    border-bottom:0px solid;
                }
                .naver_back,
                .sf-menu li > a {
                    text-shadow:0px 0px 1px rgba($splitted_menu_up_color[0], $splitted_menu_up_color[1], $splitted_menu_up_color[2],0.2);
                }
                .sf-menu li.active > a {
                    text-shadow:0px 0px 1px rgba($splitted_menu_active_color[0], $splitted_menu_active_color[1], $splitted_menu_active_color[2],0.2);
                }
                #menu_section.opened-sub {
                    background-color:".$prk_astro_options['menu_active_bk_color'].";
                }
                .naver_back,
                #menu_section.under_logo li,
                .sf-menu .sub-menu>li:first-child,
                .sf-menu>li:first-child {
                    border-top:1px solid ".$prk_astro_options['menu_lines_color'].";
                }
                .sf-menu li li,
                .sf-menu>li {
                    border-bottom:1px solid ".$prk_astro_options['menu_lines_color'].";
                }
                .sub-menu .prk_inner_tip,
                .sf-menu .sub-menu,
                .st-pusher {
                    width:".$prk_astro_options['menu_width']."px;
                }
                .sf-menu .sub-menu {
                    margin-left:-".$prk_astro_options['menu_width']."px;
                }
                .astro_nav_right .sf-menu .sub-menu {
                    margin-left:".$prk_astro_options['menu_width']."px;
                }
                .prk_close_submenu {
                    color:".$prk_astro_options['submenu_back_button_color'].";
                    background-color:".$prk_astro_options['background_color_back_button'].";
                }
                #portfolio_info {
                    border-left:1px solid $inactive_color;
                    border-left:1px solid rgba($splitted_inactive_color[0], $splitted_inactive_color[1], $splitted_inactive_color[2],0.25);
                }
                .vc_tta-tabs.vc_tta-tabs-position-top .vc_tta-panels {
                    border-top:1px solid $active_color;
                }
                .wpb_tour .wpb_tour_tabs_wrapper .wpb_tab {
                    border-left:1px solid $site_background_color;
                }
                .blog_lower,
                .wpb_separator, 
                .vc_text_separator,
                .post_meta_single,
                .simple_line,
                .simple_line_onbg,
                .low_subheading,
                .timeline_entry_marker,
                .simple_line.special_size,
                .simple_line.header_divider {
                    border-bottom: 1px solid $lines_color;
                }
                .simple_line.blog_divider {
                    border-bottom: 6px solid $lines_color;
                }
                .simple_line.thick {
                    border-bottom: 3px solid $lines_color;
                }
                .simple_line.thicker {
                    border-bottom: 5px solid $lines_color;
                }
                .commentlist li .comment-author img {
                    outline: 1px solid $lines_color;
                }
                .prk_prices_specs li,
                .underp,
                .prk_prices_specs {
                    border-bottom: 1px solid $lines_color;
                    border-bottom:1px solid rgba($splitted_lines_color[0], $splitted_lines_color[1], $splitted_lines_color[2],0.65);
                }
                .prk_prices_specs {
                    border-top: 1px solid $lines_color;
                    border-top:1px solid rgba($splitted_lines_color[0], $splitted_lines_color[1], $splitted_lines_color[2],0.65);
                }
                .triangle-topleft {
                    border-top: 50px solid $active_color;
                }
                .prk_price_header,
                .post_meta_single,
                #respond .low_subheading,
                .timeline_entry_marker,
                #prk_gallery_footer {
                    border-top:1px solid $lines_color;
                }
                .wpb_row .wpb_column:last-child .wpb_wrapper .prk_price_table .prk_prices_specs,
                .wpb_row .wpb_column:last-child .wpb_wrapper .prk_price_table .prk_price_header,
                #prk_gallery_counter {
                    border-right:1px solid $lines_color;
                }
                .timeline_line_inner,
                .comments_liner,
                .prk_prices_specs,
                .prk_price_header,
                #prk_gallery_project_nav,
                #prk_gallery_share {
                    border-left:1px solid $lines_color;
                }
                #entries_navigation_blog a,
                .prk_minimal_button a,
                .prk_minimal_button input,
                #submit_comment_div a, 
                #submit_message_div a,
                .tagcloud a,
                .pirenko_highlighted,
                .pk_contact_highlighted,
                .shop_table,
                .comment_floated:after,
                .prk_bordered {
                    border:1px solid $inputs_bordercolor;
                }
                .simple_line_colored {
                    border-bottom: 1px solid rgba($splitted_active_color[0], $splitted_active_color[1], $splitted_active_color[2],0.8);
                }
                .portfolio_entry_li_db
                {
                    background-color:rgba($splitted_background_color[0], $splitted_background_color[1], $splitted_background_color[2],0.05); 
                }
                .read_more_text
                {
                    background-color:$inactive_color;
                }
                input, 
                textarea, 
                select, 
                .uneditable-input {         
                    border: 1px solid $inactive_color;
                }
                .page-header {
                    border-bottom: 1px solid $inactive_color;
                    border-bottom:1px solid rgba($splitted_inactive_color[0], $splitted_inactive_color[1], $splitted_inactive_color[2], 0.20);
                }
                .vc_tta-container .vc_tta-tabs-list li.vc_active,
                .vc_tta-container .vc_tta-tabs-list li:hover {
                    background-color:$active_color;
                }
                .wpb_column.column_container,
                ul.wpb_thumbnails-fluid > li,
                .last_toggle_el_margin,
                .wpb_button {
                    margin-bottom:40px;
                }
                ";
                if ($prk_astro_options['prk_responsive']=="1") {
                    $css .= "@media only screen and (max-width: 767px) {
                        .prk_price_table .prk_prices_specs,
                        .prk_price_table .prk_price_header {
                            border-right:1px solid $lines_color;
                        }
                    }";
                }
                global $retina_device;
                //SHADOWS
                if (($custom_shadow)>0) {
                    $css .= 
                    ".boxed_shadow {
                        -webkit-box-shadow:0px 0px 1px rgba($splitted_shadow_color[0], $splitted_shadow_color[1], $splitted_shadow_color[2],".$custom_shadow.");
                        box-shadow:0px 0px 1px rgba($splitted_shadow_color[0], $splitted_shadow_color[1], $splitted_shadow_color[2],".$custom_shadow.");
                    }
                    .woocommerce .boxed_shadow {
                        -webkit-box-shadow:0px 0px 1px rgba($splitted_shadow_color[0], $splitted_shadow_color[1], $splitted_shadow_color[2],".$custom_shadow.") !important;
                        box-shadow:0px 0px 1px rgba($splitted_shadow_color[0], $splitted_shadow_color[1], $splitted_shadow_color[2],".$custom_shadow.") !important;
                    }
                    ";
                }
                //PORTFOLIO SINGLE IMAGE DESCRIPTIONS
                if (isset($prk_astro_options['show_folio_descs']) && $prk_astro_options['show_folio_descs']=="1") {
                    $custom_opacity_descs=floatval($prk_astro_options['folio_descs_bk_opacity']/100);
                    $splitted_folio_color=html2rgb($prk_astro_options['folio_descs_bk_color'],'1');
                    $css .= ".astro_sgl_wrapper{background-color:".$prk_astro_options['folio_descs_bk_color'].";background-color:rgba($splitted_folio_color[0], $splitted_folio_color[1], $splitted_folio_color[2],".$custom_opacity_descs.");color:".$prk_astro_options['folio_descs_color'].";}";
                }
                else {
                    $css .= ".astro_sgl_wrapper{display:none;}";
                }
                //WOOCOMMERCE STUFF
                if (PRK_WOO=="true") 
                {
                    $css .= 
                    ".woocommerce a.button:hover, 
                    .woocommerce button.button:hover, 
                    .woocommerce input.button:hover, 
                    .woocommerce #respond input#submit:hover,  
                    .woocommerce #content input.button:hover, 
                    .woocommerce-page a.button:hover, 
                    .woocommerce-page button.button:hover, 
                    .woocommerce-page input.button:hover, 
                    .woocommerce a.button, 
                    .woocommerce button.button, 
                    .woocommerce input.button, 
                    .woocommerce #respond input#submit, 
                    .woocommerce #content input.button, 
                    .woocommerce-page a.button, 
                    .woocommerce-page button.button, 
                    .woocommerce-page input.button, 
                    .woocommerce-page #respond input#submit, 
                    .woocommerce-page #content input.button {
                        background-color:$background_color;
                        font-family:".$options['header_font']['css'].";
                        border:1px solid $inputs_bordercolor;
                    }
                    .woocommerce div.product p.price, 
                    .woocommerce div.product span.price,
                    .woocommerce ul.products li.product .price {
                        color:$active_color;
                    }
                    .woocommerce span.onsale,
                    .woocommerce ul.products li.product .onsale, 
                    .woocommerce-page ul.products li.product .onsale {
                        background-color:$active_color !important;
                    }
                    .woocommerce div.product p.price del,
                    .woocommerce ul.products li.product .price del, 
                    .woocommerce-page ul.products li.product .price del {
                        color: $inactive_color;
                    }
                    .woocommerce div.product .woocommerce-tabs ul.tabs li:before, 
                    .woocommerce #content div.product .woocommerce-tabs ul.tabs li:before, 
                    .woocommerce-page div.product .woocommerce-tabs ul.tabs li:before, 
                    .woocommerce-page #content div.product .woocommerce-tabs ul.tabs li:before,
                    .woocommerce div.product .woocommerce-tabs ul.tabs li:after, 
                    .woocommerce #content div.product .woocommerce-tabs ul.tabs li:after, 
                    .woocommerce-page div.product .woocommerce-tabs ul.tabs li:after, 
                    .woocommerce-page #content div.product .woocommerce-tabs ul.tabs li:after,
                    .woocommerce div.product .woocommerce-tabs ul.tabs li, 
                    .woocommerce #content div.product .woocommerce-tabs ul.tabs li, 
                    .woocommerce-page div.product .woocommerce-tabs ul.tabs li, 
                    .woocommerce-page #content div.product .woocommerce-tabs ul.tabs li {
                        background-color:$background_color !important;
                    }
                    .woocommerce div.product .woocommerce-tabs ul.tabs li.active, 
                    .woocommerce #content div.product .woocommerce-tabs ul.tabs li.active, 
                    .woocommerce-page div.product .woocommerce-tabs ul.tabs li.active, 
                    .woocommerce-page #content div.product .woocommerce-tabs ul.tabs li.active {
                        background-color:$site_background_color !important;
                    }
                    .woocommerce #respond input#submit.alt, 
                    .woocommerce a.button.alt, 
                    .woocommerce button.button.alt, 
                    .woocommerce input.button.alt,
                    .woocommerce span.onsale, 
                    .woocommerce-page span.onsale,
                    .woocommerce ul.products li.product .onsale, 
                    .woocommerce-page ul.products li.product .onsale {
                        background-color:$active_color !important;
                        color:#FFFFFF !important;
                        border:0px solid !important;
                    }
                    .woocommerce form .form-row.woocommerce-validated input.input-text, 
                    .woocommerce form .form-row.woocommerce-validated select,
                    .astro_theme.woocommerce-cart .cart-collaterals table,
                    .woocommerce .quantity input.qty, 
                    .woocommerce #content .quantity input.qty, 
                    .woocommerce-page .quantity input.qty, 
                    .woocommerce-page #content .quantity input.qty,
                    .woocommerce #payment,
                    .woocommerce-error {
                        border:1px solid $inputs_bordercolor;
                    }
                    ";
                }
                //EXTRA STYLES IF VC IS OFF
                if (!PRK_ASTRO_COMPOSER)
                {
                    $css .= ".prk_no_composer {margin-bottom:32px;}
                    ";
                }
                if (isset($options['css_text']) && $options['css_text']!="")
                {
                    $css .= $options['css_text'];
                }
        //OUTPUT THE CUSTOM STYLES WE JUST BUILT                
        wp_add_inline_style( 'astro_custom_style', $css );
    }

    //ADD CUSTOM SCRIPTS FOR THE BACKEND
    function astro_admin_scripts() {
        if (function_exists('wp_get_theme'))
            $prk_theme = wp_get_theme();
        else
        {
            $prk_theme->Version="1";
        }
        //wp_enqueue_script('media-upload');
        //wp_enqueue_script('thickbox');
        //wp_register_script('c_picker', get_template_directory_uri() .'/inc/admin/colorpicker.js', array('jquery'), null, true);
        //wp_enqueue_script('c_picker');
        //wp_register_style( 'c_picker_css', get_template_directory_uri() . '/inc/admin/colorpicker.css' );
        //wp_enqueue_style('c_picker_css');
        wp_register_style( 'prk_admin_css', get_template_directory_uri() . '/css/admin.css',false,$prk_theme->Version );
        wp_enqueue_style('prk_admin_css');
        wp_register_script('astro-admin', get_template_directory_uri() .'/js/admin-min.js', array('jquery','media-upload','thickbox'), $prk_theme->Version, true);
        wp_enqueue_script('astro-admin');
        //wp_enqueue_style('thickbox');
    }

    //FUNCTION TO SPLIT COLOR INTO RGB VALUES
    function html2rgb($color,$alpha)
    {
        if ($color[0] == '#')
            $color = substr($color, 1); 
        if (strlen($color) == 6)
            list($r, $g, $b) = array($color[0].$color[1],$color[2].$color[3],$color[4].$color[5]);
                elseif (strlen($color) == 3)
                    list($r, $g, $b) = array($color[0].$color[0], $color[1].$color[1], $color[2].$color[2]);
                else
                    return false;
        $r = hexdec($r); $g = hexdec($g); $b = hexdec($b);

        return array($r, $g, $b ,$alpha);
    }
    function html2rgba($color,$alpha)
    {
        if ($color[0] == '#')
            $color = substr($color, 1); 
        if (strlen($color) == 6)
            list($r, $g, $b) = array($color[0].$color[1],$color[2].$color[3],$color[4].$color[5]);
                elseif (strlen($color) == 3)
                    list($r, $g, $b) = array($color[0].$color[0], $color[1].$color[1], $color[2].$color[2]);
                else
                    return false;
        $r = hexdec($r); $g = hexdec($g); $b = hexdec($b);
        $alpha=floatval($alpha/100);
        return "rgba(".$r.", ".$g.", ".$b." ,". $alpha.")";
    }
    
    //FUNCTION TO GENERATE A BRIGHTER COLOR
    function alter_brightness($hex, $steps) {
        // Steps should be between -255 and 255. Negative = darker, positive = lighter
        $steps = max(-255, min(255, $steps));
    
        // Format the hex color string
        $hex = str_replace('#', '', $hex);
        if (strlen($hex) == 3) {
            $hex = str_repeat(substr($hex,0,1), 2).str_repeat(substr($hex,1,1), 2).str_repeat(substr($hex,2,1), 2);
        }
    
        // Get decimal values
        $r = hexdec(substr($hex,0,2));
        $g = hexdec(substr($hex,2,2));
        $b = hexdec(substr($hex,4,2));
    
        // Adjust number of steps and keep it inside 0 to 255
        $r = max(0,min(255,$r + $steps));
        $g = max(0,min(255,$g + $steps));  
        $b = max(0,min(255,$b + $steps));
    
        $r_hex = str_pad(dechex($r), 2, '0', STR_PAD_LEFT);
        $g_hex = str_pad(dechex($g), 2, '0', STR_PAD_LEFT);
        $b_hex = str_pad(dechex($b), 2, '0', STR_PAD_LEFT);
    
        return '#'.$r_hex.$g_hex.$b_hex;
    }

    function astro_setup() {
        register_nav_menus(array('prk_main_navigation' => __('Main Navigation', 'astro')));
        
        // Add post thumbnails (http://codex.wordpress.org/Post_Thumbnails)
        add_theme_support('post-thumbnails');
      
        // Tell the TinyMCE editor to use a custom stylesheet
        add_editor_style('css/editor-style.css');
    }

    function prk_astro_header() {
        global $prk_astro_options;
        global $post;
        global $retina_device;
        global $prk_translations;
        $prk_translations=$prk_astro_options;
        //TRANSLATE ACCORDING TO THE SELECTED METHOD
        if ($prk_astro_options['theme_translation']=="1"  || PRK_WPML=="true")
        {
            $prk_translations['404_title_text']=__("Page Not Found", 'astro');
            $prk_translations['404_body_text']=__("We do not know how you ended up here, but please could you try again by selecting an option on the menu?", 'astro');
            $prk_translations['search_tip_text']=__("Type and hit ENTER", 'astro');
            $prk_translations['submit_search_res_title']=__("Search Results For", 'astro');
            $prk_translations['submit_search_no_results']=__("No Results Found", 'astro');
            $prk_translations['load_more']=__("LOAD MORE POSTS", 'astro');
            $prk_translations['no_more_text']=__("NO MORE POSTS TO SHOW", 'astro');
            $prk_translations['required_text']=__(" (required)", 'astro');
            $prk_translations['like_text']=__("I like this!", 'astro');
            $prk_translations['already_liked_text']=__("You already liked this.", 'astro');
            $prk_translations['share_text']=__("Share on", 'astro');
            $prk_translations['in_touch_text']=__("Get In Touch", 'astro');
            $prk_translations['menu_back_text']=__("BACK", 'astro');
            $prk_translations['to_portfolio']=__("To Portfolio", 'astro');
            $prk_translations['launch_text']=__("Project URL", 'astro');
            $prk_translations['skills_text']=__("Skills", 'astro');
            $prk_translations['tags_text']=__("Tags", 'astro');
            $prk_translations['client_text']=__("Client", 'astro');
            $prk_translations['prj_desc_text']=__("Project Description", 'astro');
            $prk_translations['date_text']=__("Date", 'astro');
            $prk_translations['related_text']=__("Related Projects", 'astro');
            $prk_translations['all_text']=__("All", 'astro');
            $prk_translations['sticky_text']=__("Sticky Post", 'astro');
            $prk_translations['to_blog']=__("To Blog", 'astro');
            $prk_translations['read_more']=__("READ MORE", 'astro');
            $prk_translations['posted_by_text']=__("By", 'astro');
            $prk_translations['about_author_text']=__("About", 'astro');
            $prk_translations['older']=__("Older posts", 'astro');
            $prk_translations['newer']=__("Newer posts", 'astro');
            $prk_translations['comments_label']=__("Comments", 'astro');
            $prk_translations['comments_no_response']=__("No Comments Yet", 'astro');
            $prk_translations['comments_one_response']=__("One Comment", 'astro');
            $prk_translations['comments_oneplus_response']=__("Comments", 'astro');
            $prk_translations['reply_text']=__("Reply", 'astro');
            $prk_translations['comments_leave_reply']=__("Leave a Reply", 'astro');
            $prk_translations['comments_author_text']=__("Nome", 'astro');
            $prk_translations['comments_email_text']=__("Email", 'astro');
            $prk_translations['comments_url_text']=__("Website", 'astro');
            $prk_translations['comments_comment_text']=__("Comment", 'astro');
            $prk_translations['comments_submit']=__("Submit Comment", 'astro');
            $prk_translations['empty_text_error']=__("Error! Please fill all the required fields.", 'astro');
            $prk_translations['invalid_email_error']=__("Error! Invalid email.", 'astro');
            $prk_translations['comment_ok_message']=__("Thank you for your feedback!", 'astro');
            $prk_translations['contact_subject_text']=__("Subject", 'astro');
            $prk_translations['contact_message_text']=__("Your Message", 'astro');
            $prk_translations['contact_submit']=__("Send Message", 'astro');
            $prk_translations['contact_wait_text']=__("Please Wait...", 'astro');
            $prk_translations['contact_ok_text']=__("Thank you for contacting us. We will reply soon!", 'astro');
            $prk_translations['next_text']=__("Next", 'astro');
            $prk_translations['previous_text']=__("Previous", 'astro');
            $prk_translations['prj_info_text']=__("Project Info", 'astro');
            $prk_translations['of_text']=__("of", 'astro');
        }
        $retina_device="prk_not_retina";
        if (isset($_COOKIE['astro_retina'])) {
            $retina_device=$_COOKIE['astro_retina'];
        }
        //$retina_device="prk_retina";//FOR TESTING PURPOSES
        //OVERRIDE OPTIONS - ONLY FOR PREVIEW MODE
        if (INJECT_STYLE)
        {
            include(ABSPATH . 'wp-content/plugins/color-manager-astro/style_header.php');   
        }   
    }
    function prk_dims($img_url,$ret_divider) {
        $file_path = parse_url( $img_url );
        $file_path = $_SERVER['DOCUMENT_ROOT'] . $file_path['path'];
        
        if (!file_exists($file_path)) {
            // Double check for some kind of virtual path that fails with $_SERVER['DOCUMENT_ROOT']
            $imageParts = explode(site_url(), $img_url, 2);
            if (isset($imageParts[1])) {
                $file_path = ABSPATH  . $imageParts[1];
            }
            // if not found with the backup path...
            if (!file_exists($file_path)) {
                // simple fix for direct links to images on multi-site installs
                if (isset($blog_id) && $blog_id > 0) {
                    // uploaded images to media folders
                    $imageParts = explode('/files/', $img_url, 2);
                    if (isset($imageParts[1])) {
                        $img_url = get_site_url(1) .'/wp-content/blogs.dir/'. $blog_id .'/files/'. $imageParts[1];
                        $file_path = parse_url( $img_url );
                        $file_path = $_SERVER['DOCUMENT_ROOT'] . $file_path['path'];
                    }
                    // if not found in media folders check theme folders
                    if (!file_exists($file_path)) {
                        // files in the theme folder
                        $imageParts = explode('THEME_URL', $img_url, 2);
                        if (isset($imageParts[1])) {
                            $file_path = THEME_DIR . $imageParts[1];
                        }
                    }
                }
            }
        }
        list($width, $height) = getimagesize($file_path);
        $width=$width/$ret_divider;
        $height=$height/$ret_divider;
        return 'width="'.$width.'" height="'.$height.'"';
    }
    function prk_output_featured_header($prk_page_id) {
        
    }
    function prk_output_featured_image($prk_page_id) {
        if (has_post_thumbnail($prk_page_id))
        {
            $image = wp_get_attachment_image_src( get_post_thumbnail_id($prk_page_id), 'single-post-thumbnail' );
            return '<img id="full-screen-background-image" src="'. $image[0] . '" >';
        }
    }
    function prk_output_logo($retina_device) 
    {
        
    }
    function prk_output_alt_logo($retina_device) 
    {
        global $prk_astro_options;
        if ($retina_device=="prk_retina" && isset($prk_astro_options['logo_retina']) && $prk_astro_options['logo_retina']!="") 
        {
            $logo_dims=prk_dims($prk_astro_options['logo_retina']['url'],2);
            $out_logo='<img src="'.$prk_astro_options['logo_retina']['url'].'" alt="" '.$logo_dims.' class="prk_logo_image" />';
        }
        else
        {
            $logo_dims=prk_dims($prk_astro_options['logo']['url'],1);
            $out_logo='<img src="'.$prk_astro_options['logo']['url'] .'" alt="" '.$logo_dims.' class="prk_logo_image" />';
        }
        return $out_logo;
    }
    function prk_output_small_logo($retina_device) 
    {
        global $prk_astro_options;
        if ($retina_device=="prk_retina" && isset($prk_astro_options['logo_retina']) && $prk_astro_options['logo_retina']!="") 
        {
            $logo_dims=prk_dims($prk_astro_options['logo_retina']['url'],2);
            if(isset($prk_astro_options['small_logo_retina']) && $prk_astro_options['small_logo_retina']!="") 
            {
                $logo_dims=prk_dims($prk_astro_options['small_logo_retina']['url'],2);
                $out_logo='<img src="'.$prk_astro_options['small_logo_retina']['url'].'" alt="" '.$logo_dims.' class="prk_small_logo_image" />';
            }
            else 
            {
                if(isset($prk_astro_options['small_logo']) && $prk_astro_options['small_logo']!="") 
                {
                    $logo_dims=prk_dims($prk_astro_options['small_logo']['url'],1);
                    $out_logo='<img src="'.$prk_astro_options['small_logo']['url'].'" alt="" '.$logo_dims.' class="prk_small_logo_image" />';
                }
                else 
                {
                    $out_logo='<img src="'.$prk_astro_options['logo_retina']['url'].'" alt="" '.$logo_dims.' class="prk_small_logo_image" />';
                }
            }
        }
        else
        {
            $logo_dims=prk_dims($prk_astro_options['logo']['url'],1);
            if(isset($prk_astro_options['small_logo']) && $prk_astro_options['small_logo']!="") 
            {
                $logo_dims=prk_dims($prk_astro_options['small_logo']['url'],1);
                $out_logo='<img src="'.$prk_astro_options['small_logo']['url'].'" alt="" '.$logo_dims.' class="prk_small_logo_image" />';
            }
            else 
            {
                $out_logo='<img src="'.$prk_astro_options['logo']['url'].'" alt="" '.$logo_dims.' class="prk_small_logo_image" />';
            }
        }
        return $out_logo;
    }
    function includeTrailingCharacter($string, $character)
    {
        if (strlen($string) > 0) {
            if (substr($string, -1) !== $character) {
                return $string . $character;
            } else {
                return $string;
            }
        } else {
            return $character;
        }
    }


    //RECEIVES SOCIAL NETWORK LABEL AND RETURN HEXA COLOR
    function prk_social_color($network_label) {
        switch ($network_label) {
            case 'delicious':
                return "#3274d1";
                break;
            case 'deviantart':
                return "#54675a";
                break;
            case 'dribbble-2':
                return "#ca4578";
                break;
            case 'facebook-2':
                return "#1f69b3";
                break;
            case 'flickr-2':
                return "#fd0083";
                break;
            case 'google-plus-2':
                return "#222222";
                break;
            case 'instagram':
                return "#547FA2";
                break;
            case 'linkedin':
                return "#1a7696";
                break;
            case 'pinterest':
                return "#df2126";
                break;
            case 'skype':
                return "#28a9ED";
                break;
            case 'soundcloud':
                return "#f8500f";
                break;
            case 'twitter-2':
                return "#43b3e5";
                break;
            case 'vimeo2':
                return "#4ab2d9";
                break;
            case 'yahoo':
                return "#855c9c";
                break;
            case 'youtube-2':
                return "#fb2d39";
                break;
            case 'feed-2':
                return "#ed8333";
                break;
            default:
                return "#000000";
        }
    }

    function prk_get_parent_blog() 
    {
        global $post;
        $blog_default="";
        $blog_link="";
        $arra=get_the_category( get_the_ID());
        $cats_arr = array("");
        if($arra) {
            foreach($arra as $s_cat) {
                array_push($cats_arr,$s_cat->slug);
            }
        }
        $pages_blog = get_pages(array(
            'meta_key' => '_wp_page_template',
            'meta_value' => 'template_blog.php',
            'hierarchical' => 0
        ));
        foreach($pages_blog as $page_blog)
        {
            $blog_default=$page_blog->post_id;
            //CHECK IF THIS BLOG PAGE CONTAINS THE CATEGORY CURRENTLY BEING USED
            if (get_field('blog_filter',$page_blog->ID)!="")
            {
                $filter=get_field('blog_filter',$page_blog->ID);
                foreach ($filter as $child)
                {
                    if (in_array($child->slug, $cats_arr)) {
                        $blog_link=$page_blog->ID; 
                    }
                }
            }
        }
        $pages_blog = get_pages(array(
            'meta_key' => '_wp_page_template',
            'meta_value' => 'template_blog_masonry.php'
        )); 
        foreach($pages_blog as $page_blog)
        {
            $blog_default=$page_blog->post_id;
            //CHECK IF THIS BLOG PAGE CONTAINS THE CATEGORY CURRENTLY BEING USED
            if (get_field('blog_filter',$page_blog->ID)!="")
            {
                $filter=get_field('blog_filter',$page_blog->ID);
                foreach ($filter as $child)
                {
                    if (in_array($child->slug, $cats_arr)) {
                        $blog_link=$page_blog->ID; 
                    }
                }
            }
        }
        if ($blog_link!="") {
            return $blog_link;
        }
        else
        {
            return $blog_default;
        }
        wp_reset_query();
    }
    function prk_get_parent_portfolio() 
    {
        global $post;
        $blog_default="";
        $blog_link="";
        $blog_link_timeline="";
        $arra=get_the_terms( get_the_ID(),'pirenko_skills' );
        $cats_arr = array("");
        if($arra) {
            foreach($arra as $s_cat) {
                array_push($cats_arr,$s_cat->slug);
            }
        }
        $pages_blog = get_pages(array(
            'meta_key' => '_wp_page_template',
            'meta_value' => 'template_portfolio_var-grid.php',
            'hierarchical' => 0
        )); 
        foreach($pages_blog as $page_blog)
        {
            $blog_default=$page_blog->ID;
            if (get_field('portfolio_filter',$page_blog->ID)!="")
            {
                $filter=get_field('portfolio_filter',$page_blog->ID);
                foreach ($filter as $child)
                {
                    if (in_array($child->slug, $cats_arr)) {
                        $blog_link=$page_blog->ID; 
                    }
                }
            }
        }
        $pages_blog = get_pages(array(
            'meta_key' => '_wp_page_template',
            'meta_value' => 'template_portfolio_carousel.php',
            'hierarchical' => 0
        )); 
        foreach($pages_blog as $page_blog)
        {
            $blog_default=$page_blog->ID;
            //CHECK IF THIS PORTFOLIO PAGE CONTAINS THE CATEGORY CURRENTLY BEING USED
            if (get_field('portfolio_filter',$page_blog->ID)!="")
            {
                $filter=get_field('portfolio_filter',$page_blog->ID);
                foreach ($filter as $child)
                {
                    if (in_array($child->slug, $cats_arr)) {
                        $blog_link=$page_blog->ID; 
                    }
                }
            }
        }
        $pages_blog = get_pages(array(
            'meta_key' => '_wp_page_template',
            'meta_value' => 'template_portfolio_masonry.php',
            'hierarchical' => 0
        )); 
        foreach($pages_blog as $page_blog)
        {
            $blog_default=$page_blog->ID;
            //CHECK IF THIS PORTFOLIO PAGE CONTAINS THE CATEGORY CURRENTLY BEING USED
            if (get_field('portfolio_filter',$page_blog->ID)!="")
            {
                $filter=get_field('portfolio_filter',$page_blog->ID);
                foreach ($filter as $child)
                {
                    if (in_array($child->slug, $cats_arr)) {
                        $blog_link=$page_blog->ID; 
                    }
                }
            }
        }
        if ($blog_link!="") {
            return $blog_link;
        }
        else
        {
            return $blog_default;
        }
        wp_reset_query();
    }
    function prk_output_title($data)
    {
        global $post;
        global $prk_astro_options;
        global $retina_device;
        //INFO BAR DEFAULT IMAGE?
        if (isset($prk_astro_options['backgroundinfo_image']) && $prk_astro_options['backgroundinfo_image']!="") {
            $image[0]=$prk_astro_options['backgroundinfo_image'];
        }
        else
        {
            $image[0]="no";
        }
        if (isset($post->ID) && has_post_thumbnail($post->ID))
        {
            $image=wp_get_attachment_image_src( get_post_thumbnail_id($post->ID),'single-post-thumbnail');
        }
        $show_line=true;
        $align_styled="";
        if ($data=="advanced")
        {
            if (get_field('hide_line')=="1") {
                $show_line=false;
            }
            if (get_field('header_align')=="head_center")
            {
                $align_styled="head_center ";
            }
        }
        $extra_styles='class="'.$align_styled.'bd_headings_text_shadow zero_color"';
        if (is_page()) {
            ?>
                <div id="headings_wrap" <?php echo $extra_styles; ?>>
                    <div class="prk_inner_block centered twelve columns">
                        <div class="single_page_title twelve columns">
                            <?php 
                                if ($show_line==true)
                                {
                                    echo '<div class="prk_titlify_father">';
                                }
                            ?>
                            <h1 class="header_font">
                                <?php the_title(); ?>
                            </h1>
                            <?php 
                                if ($show_line==true)
                                {
                                    echo '</div>';
                                }
                                if (get_field('below_headings_text')!="")
                                {
                                  ?>
                                  <div id="single_page_teaser">
                                  <?php
                                    echo get_field('below_headings_text');
                                  ?>
                                  </div>
                                  <?php
                                }
                            ?>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
            <?php
        }
        if (get_post_type()=="pirenko_portfolios") {
            ?>
                    <div id="headings_wrap" <?php echo $extra_styles; ?>>
                        <div class="prk_inner_block extra_pad centered twelve columns">
                            <div class="row">
                                <div class="single_page_title nine columns">
                                    <h1 class="header_font">
                                        <?php echo get_the_title(); ?>
                                    </h1>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
            <?php
        }
        if (is_single() && get_post_type()!="pirenko_portfolios") {
            ?>
                    <div id="headings_wrap" <?php echo $extra_styles; ?>>
                        <div class="prk_inner_block extra_pad centered twelve columns">
                                <div class="single_page_title twelve columns">
                                    <h1 class="header_font">
                                        <?php echo get_the_title($data); ?>
                                    </h1>
                                    <?php
                                        $data_blog = get_post_meta( $data, '_custom_meta_blog_template', true );
                                        if (isset($data_blog['below_headings_text']) && $data_blog['below_headings_text']!="")
                                        {
                                          ?>
                                          <div id="single_page_teaser">
                                          <?php
                                          echo $data_blog['below_headings_text'];
                                          ?>
                                          </div>
                                          <?php
                                        }
                                    ?>
                                </div>
                            <div class="clearfix"></div>
                    </div>
                </div>
            <?php
        }
        if (is_archive() && get_post_type()!="pirenko_portfolios") {
            if (is_category()) 
            { 
                $prk_pagettl=single_cat_title('',FALSE);
            } 
            elseif( is_tag() ) 
            { 
                $prk_pagettl=single_tag_title('',FALSE);
            } 
            elseif (is_day()) 
            { 
                $prk_pagettl=get_the_time('F jS, Y');
            } 
            elseif (is_month()) 
            { 
                $prk_pagettl=get_the_time('F, Y');
            } 
            elseif (is_year()) 
            { 
                $prk_pagettl=get_the_time('Y');
            } 
            elseif (is_author()) 
            { 
                $prk_pagettl="Author Archive";
            }
            ?>
            <div id="headings_wrap" <?php echo $extra_styles; ?>>
                <div class="prk_inner_block centered twelve columns">
                    <div class="single_page_title twelve columns">
                        <?php 
                            if ($show_line==true)
                            {
                                echo '<div class="prk_titlify_father">';
                            }
                        ?>
                        <h1 class="header_font">
                            <?php echo $prk_pagettl; ?>
                        </h1>
                        <?php 
                            if ($show_line==true)
                            {
                                echo '</div>';
                            }
                        ?>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
            <?php
        }
    }
    function jquery_sender() 
    {
        global $retina_device;
        global $prk_astro_options;
        $detect_retina=$prk_astro_options['prk_detect_retina'];
        if ($detect_retina!='0')
        {
            $detect_retina='1';
        }
        //SEND VALUES TO JQUERY
        ?>
        <script type="text/javascript">
            var make_session = false;
            var retina_device = '<?php echo $retina_device ?>';
            var detect_retina = '<?php echo $detect_retina ?>';
            jQuery(function() {
                if( window.devicePixelRatio && detect_retina==='1') {
                    if(window.devicePixelRatio > 1 && retina_device!=="prk_retina"){
                        jQuery.cookie("astro_retina","prk_retina",{ path: '/' });
                    }
                }
            });
            <?php if (isset($prk_astro_options['js_text'])) {echo $prk_astro_options['js_text'];} ?>
        </script>
        <?php
    }
    //FUNCTION TO CHECK IF PATH CONTAINS YOUTUBE, VIMEO...
    function prk_external_content($stringa) {
        // check if string ends with image extension
        if (preg_match('/(\.jpg|\.png|\.bmp)$/', $stringa)) {
            return "other";
        // check if there is youtube.com in string
        } elseif (strpos($stringa, "youtube.com") !== false) {
            return "youtube";
        } elseif (strpos($stringa, "youtu.be") !== false) {
            return "youtube";
        // check if there is vimeo.com in string
        } elseif (strpos($stringa, "vimeo.com") !== false) {
            return "vimeo";
        } elseif (strpos($stringa, "soundcloud.com") !== false) {
            return "soundcloud";
        } else {
            return "other";
        }
    }
    function get_youtube_url($text) {
        $re = '/d\/(\w+)\?rel=\d+"/'; 
        preg_match($re, $text, $matches);
        return $matches[1];
    }
    function get_iframe_src($raw_content) {
        if ($raw_content!="") {
            $doc = new DOMDocument();
            libxml_use_internal_errors(true);
            $doc->loadHTML($raw_content);
            libxml_use_internal_errors(false);
            if (is_object($doc->getElementsByTagName('iframe')->item(0))){
                $src = $doc->getElementsByTagName('iframe')->item(0)->getAttribute('src');
            }
            else {
                return "Wrong Video Code.";
            }
            if (prk_external_content($raw_content)=="youtube")
            {
                //ADD HTTP IF NEEDED
                if (substr($src,0,2)=="//")
                    $src="http:".$src;
                return "http://www.youtube.com/watch?v=".get_youtube_url($src);
            }
            if (prk_external_content($raw_content)=="vimeo")
            {
                return $src;
            }
            if (prk_external_content($raw_content)=="soundcloud")
            {
                return $src;
            }
        }
        else
        {
            return "No Content Is Set";
        }
    }
        
    //FUNCTION TO GET IMAGES PATH ON MULTISITE WORDPRESS INSTALLATIONS
    function get_image_path($src) 
    {
        global $blog_id;
        if(isset($blog_id) && $blog_id > 0) 
        {
            $imageParts = explode('/files/' , $src);//implode(",",$src)
            if(isset($imageParts[1])) 
            {
                $src = '/blogs.dir/' . $blog_id . '/files/' . $imageParts[1];
            }
        }
        return $src;
    }
    
    //VARIABLE SIZE EXCERPT FUNCTION
    function the_excerpt_dynamic($length) {
        global $post;
        if (has_excerpt()) {
            return $post->post_excerpt;
        }
        else {
            $text = $post->post_excerpt;
            if ( '' == $text )
            {
                $text = $post->post_content;
                if (strpos($text,'<!--more-->') !== false) {
                    $text = substr($text,0,strpos($text,'<!--more-->'));
                }
                else
                {
                    $text='';
                }
            }
            if ( '' == $text ) 
            {
                $text = get_the_content('');
                $text = apply_filters('the_content', $text);
                $text = str_replace(']]>', ']]>', $text);
            }
            if (strpos($text,'<!--more-->') !== false) {
                $text = substr($text,0,strpos($text,'<!--more-->'));
            }
            $text = strip_shortcodes( $text ); // optional, recommended
            $text = strip_tags($text); //THIS WILL REMOVE EVENTUAL HTML TAGS
            $text = preg_replace( "/\s+/", " ", $text );
            $output="";
            $words = explode( " ", $text );
            $nwords = count( $words );
            for ( $i = 0; ( $i < $length ) && ( $i < $nwords ); $i++ ) {
                $output .= $words[$i];
                if ( $i < $length - 1) {
                    $output .= " ";
                } else {
                    $output .= ' ...';
                }
            }
            return apply_filters('the_excerpt',$output);
        }
    }
    //CHECK IF EXCERPT IS LARGER THAN POST TEXT (USEFULL TO SEE IF WE NEED A READ MORE BUTTON)
    function is_big_excerpt($length) 
    {
        global $post;
        $text = $post->post_content;
        if ( '' == $text ) 
        {
            $text = get_the_content('');
            $text = apply_filters('the_content', $text);
            $text = str_replace(']]>', ']]>', $text);
        }
        if (strpos($text,'<!--more-->') !== false) {
            return true;
        }
        $text = $post->excerpt;
        if ( '' == $text ) 
        {
            $text = get_the_content('');
            $text = apply_filters('the_content', $text);
            $text = str_replace(']]>', ']]>', $text);
        }
        $text = strip_shortcodes( $text ); // optional, recommended
        $text = strip_tags($text);
        $text = preg_replace( "/\s+/", " ", $text );
        $words = explode( " ", $text );
        $nwords = count( $words );
        if ($nwords>$length)
            return true;
        else
            return false;
    }
    //POST LIKE FEATURE
    $timebeforerevote = 60;

    add_action('wp_ajax_nopriv_post-like', 'post_like');
    add_action('wp_ajax_post-like', 'post_like');   
    
    function post_like()
    {
        $nonce = $_POST['nonce'];
     
        if ( ! wp_verify_nonce( $nonce, 'ajax-nonce' ) )
            die ( 'Busted!');
            
        if(isset($_POST['post_like']))
        {
            $ip = $_SERVER['REMOTE_ADDR'];
            $post_id = $_POST['post_id'];
            
            $meta_IP = get_post_meta($post_id, "voted_IP");
            if (empty($meta_IP))
                    $meta_IP[0]="";
            $voted_IP = $meta_IP[0];
            if(!is_array($voted_IP))
                $voted_IP = array();
            
            $meta_count = get_post_meta($post_id, "votes_count", true);
    
            if(!already_voted($post_id))
            {
                $voted_IP[$ip] = time();
    
                update_post_meta($post_id, "voted_IP", $voted_IP);
                update_post_meta($post_id, "votes_count", ++$meta_count);
                
                echo $meta_count;
            }
            else
                echo "already";
        }
        exit;
    }
    
    function already_voted($post_id)
    {
        global $timebeforerevote;
    
        $meta_IP = get_post_meta($post_id, "voted_IP");
        if (empty($meta_IP))
            $meta_IP[0]="";
        $voted_IP = $meta_IP[0];
        if(!is_array($voted_IP))
            $voted_IP = array();
        $ip = $_SERVER['REMOTE_ADDR'];
        
        if(in_array($ip, array_keys($voted_IP)))
        {
            $time = $voted_IP[$ip];
            $now = time();
            
            if(round(($now - $time) / 60) > $timebeforerevote)
                return false;
                
            return true;
        }
        
        return false;
    }
    
    function get_folio_like($post_id,$show_number)
    {
        global $prk_translations;
        global $prk_astro_options; 
        $output="";
        if ($prk_astro_options['show_heart_folio']=="1")
        {
            $themename = "astro";
            $vote_count = get_post_meta($post_id, "votes_count", true);
            if ($vote_count=="")
                $vote_count=0;
            $output.='<div class="post-like left_floated">';
            $tip_txt="I like this!";
            $extra_class="";
            $tip_txt=$prk_translations['like_text'];
            if(already_voted($post_id))
            {
                $tip_txt=$prk_translations['already_liked_text'];
                $extra_class=" alreadyvoted";
            }
            if ($show_number==false) {
                $extra_class.=" hide_number";
            }
            $output .= '<div title="'.$tip_txt.'" data-no_more="'.$prk_translations['already_liked_text'].'" class="pir_like'.$extra_class.'" data-color="#ff3030" data-post_id="'.$post_id.'">';
            $output .= '<div class="like_count left_floated">'.$vote_count.' '.$prk_translations['likes_text'].'</div>';
            $output .= '<div class="navicon-heart-2 left_floated"></div>';
            $output .= '</div>';
            $output .= '<div class="clearfix"></div></div>';
        }
        return $output;
    }
    function get_blog_like($post_id,$show_number)
    {
        global $prk_translations;
        global $prk_astro_options; 
        $output="";
        if ($prk_astro_options['show_heart_folio']=="1")
        {
            $themename = "astro";
            $vote_count = get_post_meta($post_id, "votes_count", true);
            if ($vote_count=="")
                $vote_count=0;
            $output.='<div class="post-like left_floated">';
            $tip_txt="I like this!";
            $extra_class="";
            $tip_txt=$prk_translations['like_text'];
            if(already_voted($post_id))
            {
                $tip_txt=$prk_translations['already_liked_text'];
                $extra_class=" alreadyvoted";
            }
            if ($show_number==false) {
                $extra_class.=" hide_number";
            }
            $output .= '<a href="#" title="'.$tip_txt.'" data-no_more="'.$prk_translations['already_liked_text'].'" class="site_background_colored pir_like'.$extra_class.'" data-color="#ff3030" data-post_id="'.$post_id.'">';
            $output .= '<div class="navicon-heart-2 left_floated"></div>';
            $output .= '<div class="like_count left_floated">'.$vote_count.'</div>';
            $output .= '<div class="share_colored_bg"></div></a>';
            $output .= '<div class="clearfix"></div></div>';
        }
        return $output;
    }
    if (!function_exists('prk_mail_before_submit')) {
        function prk_mail_before_submit(){
            if (isset($_POST['action']) && $_POST['action']=="mail_before_submit") {
                check_ajax_referer('ajax-nonce');
                $params = array();
                parse_str($_POST['email_wrap'], $params);
                $name = $params['c_name'];
                $mail = $params['c_email'];
                $admin_mail = $params['rec_email'];
                $msg = $params['c_message'];
                $subject = $params['full_subject'];

                $headers='MIME-Version: 1.0' . "\r\n";
                $headers.='Content-type: text/html; charset=utf-8' . "\r\n";
                $headers.='From: '.$name.' <'.$mail.'>' ."\r\n";
                $headers.='Reply-To: ' . $mail . "\r\n";
                //$headers.='CC: ' . $mail ."\r\n";
                $headers.='X-Mailer: PHP/' . phpversion();

                $message="You've received a new message. <br><br>";
                $message.="Name: ".$name."<br>";
                $message.="Mail: ".$mail."<br>";
                $message.="Message: ".$msg."<br>";
                
                $mail_result = wp_mail($admin_mail,$subject,$message,$headers);
                if($mail_result) 
                {
                    echo "sent";
                }
                else
                {
                    echo "Email failure. Please try again.";
                }
            }
        }
    }
    

    //FIX FOR COMPATIBILITY MODE ON IE
    /*
    Plugin Name: Force IE Edge
    Description: Add an X-UA-Compatible header to WordPress
    Author: Christopher Davis
    Author URI: http://christopherdavis.me
    License: GPL2
        
        Copyright 2012 Christopher Davis
    
        This program is free software; you can redistribute it and/or modify
        it under the terms of the GNU General Public License, version 2, as 
        published by the Free Software Foundation.
    
        This program is distributed in the hope that it will be useful,
        but WITHOUT ANY WARRANTY; without even the implied warranty of
        MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
        GNU General Public License for more details.
    
        You should have received a copy of the GNU General Public License
        along with this program; if not, write to the Free Software
        Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA  02110-1301  USA
    */
    
    
    add_filter('wp_headers', 'cdfie_add_header');
    /*
     * Adds a header to WordPress
     *
     * @return array Where header => header value
     */
    function cdfie_add_header($headers)
    {
        $headers['X-UA-Compatible'] = 'IE=edge,chrome=1';
        return $headers;
    }
    
    //ADD PAGE SLUGS ON NAV ID'S - USEFULL FOR PORTFOLIO FILTERS
    function nav_id_filter( $id, $item ) {
    if (strpos($item->url,'/?') == true) 
    {
        //WE ARE USING THE DEFAULT PERMALINK SYSTEM
        //GRAB WHAT'S AFTER THE = SIGN
        $parts = substr(strrchr($item->url, "="), 1);
        return 'nav-'.$parts;
    }
    else
        return 'nav-'.basename($item->url);
    }
    add_filter( 'nav_menu_item_id', 'nav_id_filter', 10, 2 );
    
    function get_attachment_id_from_src ($image_src) {

        global $wpdb;
        $query = "SELECT ID FROM {$wpdb->posts} WHERE guid='$image_src'";
        $id = $wpdb->get_var($query);
        return $id;
    }
    
    //FUNCTION TO GET SLUG PASSING AN ID
    function the_slug( $id ) {
        $post_data = get_post($id, ARRAY_A);
        $slug = $post_data['post_name'];
        return $slug; 
    }
    function prk_get_img_alt ($image_src) {
        $id=get_attachment_id_from_src($image_src);
        if ($id=="")
        {
            //IMAGE IS NOT ON LIBRARY. RETURN NOTHING
            return "";
        }
        else
        {
            return get_post_meta($id, '_wp_attachment_image_alt', true);
        }
    }

    function prk_get_image_caption ($int_id) {
        $thumbnail_image = get_posts(array('p' => $int_id, 'post_type' => 'attachment'));
        return $thumbnail_image[0]->post_excerpt;
    }
    function _remove_script_version( $src ){
        $parts = explode( '?', $src );
        return $parts[0];
    }
    //WRNGS REMOVAL
    add_theme_support( 'automatic-feed-links' );

    //PASSWORD PROTECTED STUFF
    add_filter( 'the_password_form', 'custom_password_form' );
    function custom_password_form() {
        global $post;
        $label = 'pwbox-'.( empty( $post->ID ) ? rand() : $post->ID );
        $output='<div id="prk_protected" class="columns twelve centered prk_inner_block">';
        $output.= '<form class="post-password-form" action="' . get_option('siteurl') . '/wp-login.php?action=postpass" method="post">';
        $output.= __( "This content is password protected. To view it please enter your password below:" );
        $output.='<label for="' . $label . '">' . __( "Password:" );
        $output.='<input name="post_password" id="' . $label . '" type="password" class="prk_pass pirenko_highlighted" />';
        $output.='</label>';
        $output.='<div class="theme_button">';
        $output.='<input type="submit" name="Submit" value="' . esc_attr__( "Submit" ) . '" class="prk_submit_pass" />';
        $output.='</div>';
        $output.='</form>';
        $output.='</div>';
        return $output;
    }

    if(function_exists("register_field_group"))
    {

    //CONTACT PAGE
    register_field_group(array (
        'id' => 'acf_theme-contact-page-options',
        'title' => 'Theme Contact Page Options',
        'fields' => array (
            array (
                'key' => 'field_528b58846004d',
                'label' => 'General layout?',
                'name' => 'contact_layout',
                'type' => 'select',
                'choices' => array (
                    'fullscreen' => 'Fullscreen Map or Image',
                    'classic' => 'Classic Layout',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528b798450ba6',
                'label' => 'Use Map or image?',
                'name' => 'content_type',
                'type' => 'select',
                'choices' => array (
                    'map' => 'Map',
                    'image' => 'Image',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528bbbbb8e107',
                'label' => 'Contact image',
                'name' => 'map_image',
                'type' => 'image',
                'instructions' => '(optional)',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b798450ba6',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'full',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52936561dd295',
                'label' => 'Map Style',
                'name' => 'map_style',
                'type' => 'select',
                'required' => 1,
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b798450ba6',
                            'operator' => '==',
                            'value' => 'map',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'choices' => array (
                    'default' => 'Default',
                    'almost_gray' => 'Almost Gray',
                    'subtle_grayscale' => 'Subtle Grayscale',
                    'cobalt' => 'Cobalt',
                    'midnight' => 'Midnight Commander',
                    'old_timey' => 'Old Timey',
                    'green' => 'Greenish',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528b925fa142b',
                'label' => 'Map height',
                'name' => 'map_height',
                'type' => 'number',
                'required' => 1,
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b58846004d',
                            'operator' => '==',
                            'value' => 'classic',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => 400,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => 100,
                'max' => '',
                'step' => 1,
            ),
            array (
                'key' => 'field_528b7a3392c46',
                'label' => 'Map Latitude',
                'name' => 'map_latitude',
                'type' => 'text',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b798450ba6',
                            'operator' => '==',
                            'value' => 'map',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '40.6700',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_528b7aa092c47',
                'label' => 'Map Longitude',
                'name' => 'map_longitude',
                'type' => 'text',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b798450ba6',
                            'operator' => '==',
                            'value' => 'map',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '-73.9400',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_529371a1d02ee',
                'label' => 'Map Zoom Level',
                'name' => 'zoom_level',
                'type' => 'number',
                'instructions' => 'Interval [0,20]',
                'required' => 1,
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b798450ba6',
                            'operator' => '==',
                            'value' => 'map',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => 8,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => 0,
                'max' => 20,
                'step' => 1,
            ),
            array (
                'key' => 'field_528b7e178e107',
                'label' => 'Marker image',
                'name' => 'marker_image',
                'type' => 'image',
                'instructions' => '(optional)',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b798450ba6',
                            'operator' => '==',
                            'value' => 'map',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'full',
                'library' => 'all',
            ),
            array (
                'key' => 'field_528b86529e934',
                'label' => 'Marker Image Latitude',
                'name' => 'marker_image_lat',
                'type' => 'text',
                'instructions' => 'If blank it will have the same value as the map',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b798450ba6',
                            'operator' => '==',
                            'value' => 'map',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_528b86bb9e935',
                'label' => 'Marker Image Longitude',
                'name' => 'marker_image_long',
                'type' => 'text',
                'instructions' => 'If blank it will have the same value as the map',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b798450ba6',
                            'operator' => '==',
                            'value' => 'map',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_529376017080b',
                'label' => 'Hide Page Title?',
                'name' => 'hide_title',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_529374390080b',
                'label' => 'Show contact info panel automatically after page loads?',
                'name' => 'slide_panel',
                'type' => 'true_false',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528b58846004d',
                            'operator' => '==',
                            'value' => 'fullscreen',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_52933488c641e',
                'label' => 'Show Contact Information',
                'name' => 'show_contact_information',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_529334a4b27d9',
                'label' => 'Contact Information Title',
                'name' => 'contact-info_title',
                'type' => 'text',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52933488c641e',
                            'operator' => '==',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_52933537b27da',
                'label' => 'Contact Adress',
                'name' => 'contact-address',
                'type' => 'wysiwyg',
                'instructions' => '(optional)',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52933488c641e',
                            'operator' => '==',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'toolbar' => 'basic',
                'media_upload' => 'no',
            ),
            array (
                'key' => 'field_52933c51e9508',
                'label' => 'Telephone',
                'name' => 'contact-info_tel',
                'type' => 'text',
                'instructions' => '(optional)',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52933488c641e',
                            'operator' => '==',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_529340c16b85a',
                'label' => 'Fax',
                'name' => 'contact-info_fax',
                'type' => 'text',
                'instructions' => '(optional)',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52933488c641e',
                            'operator' => '==',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_529340c56b85b',
                'label' => 'Email',
                'name' => 'contact-info_email',
                'type' => 'text',
                'instructions' => '(optional)',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52933488c641e',
                            'operator' => '==',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_529355a123f99',
                'label' => 'Show Contact Form',
                'name' => 'show_contact_form',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_52928655e0fde',
                'label' => 'Contact Form Receiving Email',
                'name' => 'prk_email_address',
                'type' => 'email',
                'instructions' => '',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_529355a123f99',
                            'operator' => '==',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
            ),
            array (
                'key' => 'field_52935625e0fde',
                'label' => 'Contact Form Title',
                'name' => 'info_title_form',
                'type' => 'text',
                'instructions' => 'Optional',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_529355a123f99',
                            'operator' => '==',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'html',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_52935957ad6f8',
                'label' => 'Contact Form Shortcode',
                'name' => 'contact-shortcode',
                'type' => 'text',
                'instructions' => '(Optional)',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_529355a123f99',
                            'operator' => '==',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => 'Use this field if you have a shortcode to generate your own contact form',
                'formatting' => 'html',
                'maxlength' => '',
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'page-contact.php',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //GRID BLOG
    register_field_group(array (
        'id' => 'acf_theme-grid-blog-page-options',
        'title' => 'Theme Grid Blog Page Options',
        'fields' => array (
            array (
                'key' => 'field_528a44c30297d',
                'label' => 'Sidebar display',
                'name' => 'show_sidebar',
                'type' => 'select',
                'choices' => array (
                    'default' => 'Default option',
                    'yes' => 'Show Sidebar',
                    'no' => 'Hide Sidebar',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528a450cef5cd',
                'label' => 'Hide page title?',
                'name' => 'hide_title',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_528a4542ef5ce',
                'label' => 'Hide line under page title?',
                'name' => 'hide_line',
                'type' => 'true_false',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a450cef5cd',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_528a457acc438',
                'label' => 'Header text',
                'name' => 'below_headings_text',
                'type' => 'textarea',
                'instructions' => 'Will be displayed under the page title',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a450cef5cd',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'br',
            ),
            array (
                'key' => 'field_528a45accc439',
                'label' => 'Title alignment',
                'name' => 'header_align',
                'type' => 'select',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a450cef5cd',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'choices' => array (
                    'head_left' => 'Left',
                    'head_center' => 'Center',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528a45cbcc43a',
                'label' => 'Information blocks margin',
                'name' => 'thumbs_margin',
                'type' => 'number',
                'instructions' => 'In pixels',
                'required' => 1,
                'default_value' => 20,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => '',
                'max' => '',
                'step' => 1,
            ),
            array (
                'key' => 'field_528a468dd6bfa',
                'label' => 'Blog categories to be displayed',
                'name' => 'blog_filter',
                'type' => 'taxonomy',
                'instructions' => 'Leave blank for all',
                'taxonomy' => 'category',
                'field_type' => 'checkbox',
                'allow_null' => 0,
                'load_save_terms' => 0,
                'return_format' => 'object',
                'multiple' => 0,
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'template_blog_masonry.php',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //CLASSIC BLOG
    register_field_group(array (
        'id' => 'acf_theme-classic-blog-page-options',
        'title' => 'Theme Classic Blog Page Options',
        'fields' => array (
            array (
                'key' => 'field_528a44c30297d',
                'label' => 'Sidebar display',
                'name' => 'show_sidebar',
                'type' => 'select',
                'choices' => array (
                    'default' => 'Default option',
                    'yes' => 'Show Sidebar',
                    'no' => 'Hide Sidebar',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528a450cef5cd',
                'label' => 'Hide page title?',
                'name' => 'hide_title',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_528a4542ef5ce',
                'label' => 'Hide line under page title?',
                'name' => 'hide_line',
                'type' => 'true_false',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a450cef5cd',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_528a457acc438',
                'label' => 'Header text',
                'name' => 'below_headings_text',
                'type' => 'textarea',
                'instructions' => 'Will be displayed under the page title',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a450cef5cd',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'br',
            ),
            array (
                'key' => 'field_528a45accc439',
                'label' => 'Title alignment',
                'name' => 'header_align',
                'type' => 'select',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a450cef5cd',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'choices' => array (
                    'head_left' => 'Left',
                    'head_center' => 'Center',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528a468dd6bfa',
                'label' => 'Blog categories to be displayed',
                'name' => 'blog_filter',
                'type' => 'taxonomy',
                'instructions' => 'Leave blank for all',
                'taxonomy' => 'category',
                'field_type' => 'checkbox',
                'allow_null' => 0,
                'load_save_terms' => 0,
                'return_format' => 'object',
                'multiple' => 0,
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'template_blog.php',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //THEME PAGE
    register_field_group(array (
        'id' => 'acf_theme-page-options-2',
        'title' => 'Theme Page Options',
        'fields' => array (
            array (
                'key' => 'field_8320f34e96143',
                'label' => 'Sidebar display',
                'name' => 'show_sidebar',
                'type' => 'select',
                'choices' => array (
                    'default' => 'Default option',
                    'yes' => 'Show Sidebar',
                    'no' => 'Hide Sidebar',
                ),
                'default_value' => 'default',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528a1905268b3',
                'label' => 'Hide page title?',
                'name' => 'hide_title',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_528a191d268b4',
                'label' => 'Hide line under page title?',
                'name' => 'hide_line',
                'type' => 'true_false',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a1905268b3',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_528a193e268b5',
                'label' => 'Header text',
                'name' => 'below_headings_text',
                'type' => 'textarea',
                'instructions' => 'Will be displayed under the page title',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a1905268b3',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'br',
            ),
            array (
                'key' => 'field_528a199e1af95',
                'label' => 'Title alignment',
                'name' => 'header_align',
                'type' => 'select',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a1905268b3',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'choices' => array (
                    'head_left' => 'Left',
                    'head_center' => 'Center',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528a19da84876',
                'label' => 'Display featured slider above the content?',
                'name' => 'featured_slider',
                'type' => 'select',
                'choices' => array (
                    'no' => 'No',
                    'yes' => 'Yes',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528a1a06e2b53',
                'label' => 'Autoplay slider?',
                'name' => 'featured_slider_autoplay',
                'type' => 'true_false',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a19da84876',
                            'operator' => '==',
                            'value' => 'yes',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_528a1a5efdf8e',
                'label' => 'Slideshow delay in miliseconds',
                'name' => 'featured_slider_delay',
                'type' => 'number',
                'required' => 1,
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a19da84876',
                            'operator' => '==',
                            'value' => 'yes',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => 6000,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => '',
                'max' => '',
                'step' => 500,
            ),
            array (
                'key' => 'field_528a1ab196603',
                'label' => 'Slide groups to be displayed',
                'name' => 'slide_filter',
                'type' => 'taxonomy',
                'instructions' => 'Leave blank for all',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_528a19da84876',
                            'operator' => '==',
                            'value' => 'yes',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'taxonomy' => 'pirenko_slide_set',
                'field_type' => 'checkbox',
                'allow_null' => 0,
                'load_save_terms' => 0,
                'return_format' => 'object',
                'multiple' => 0,
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'page-theme.php',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //REGULAR PAGE
    register_field_group(array (
        'id' => 'acf_theme-page-options',
        'title' => 'Theme Page Options',
        'fields' => array (
            array (
                'key' => 'field_5289f34e96143',
                'label' => 'Sidebar display',
                'name' => 'show_sidebar',
                'type' => 'select',
                'choices' => array (
                    'default' => 'Default option',
                    'yes' => 'Show Sidebar',
                    'no' => 'Hide Sidebar',
                ),
                'default_value' => 'default',
                'allow_null' => 0,
                'multiple' => 0,
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'default',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //PAGE WITH SECTIONS
    register_field_group(array (
        'id' => 'acf_theme-page-with-sections-options',
        'title' => 'Theme Page with Sections Options',
        'fields' => array (
            array (
                'key' => 'field_5289f9e24ae2d',
                'label' => 'Hide page title?',
                'name' => 'hide_title',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_5289fbb2b8ec1',
                'label' => 'Hide line under page title?',
                'name' => 'hide_line',
                'type' => 'true_false',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_5289f9e24ae2d',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_5289fc477906b',
                'label' => 'Header text',
                'name' => 'below_headings_text',
                'type' => 'textarea',
                'instructions' => 'Will be displayed under the page title',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_5289f9e24ae2d',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'br',
            ),
            array (
                'key' => 'field_5289fd1e74a5e',
                'label' => 'Title alignment',
                'name' => 'header_align',
                'type' => 'select',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_5289f9e24ae2d',
                            'operator' => '!=',
                            'value' => '1',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'choices' => array (
                    'head_left' => 'Left',
                    'head_center' => 'Center',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_5289fd676dc9f',
                'label' => 'Display featured slider above the content?',
                'name' => 'featured_slider',
                'type' => 'select',
                'choices' => array (
                    'no' => 'No',
                    'yes' => 'Yes',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_528a053ea4be8',
                'label' => 'Autoplay slider?',
                'name' => 'featured_slider_autoplay',
                'type' => 'true_false',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_5289fd676dc9f',
                            'operator' => '==',
                            'value' => 'yes',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_528a0573a4be9',
                'label' => 'Slideshow delay in miliseconds',
                'name' => 'featured_slider_delay',
                'type' => 'number',
                'required' => 1,
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_5289fd676dc9f',
                            'operator' => '==',
                            'value' => 'yes',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => 6000,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => '',
                'max' => '',
                'step' => 500,
            ),
            array (
                'key' => 'field_5289fdefb25ac',
                'label' => 'Slide groups to be displayed',
                'name' => 'slide_filter',
                'type' => 'taxonomy',
                'instructions' => 'Leave blank for all',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_5289fd676dc9f',
                            'operator' => '==',
                            'value' => 'yes',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'taxonomy' => 'pirenko_slide_set',
                'field_type' => 'checkbox',
                'allow_null' => 0,
                'load_save_terms' => 0,
                'return_format' => 'object',
                'multiple' => 0,
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'page-sections.php',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //LANDING PAGE
    register_field_group(array (
        'id' => 'acf_theme-coming-soon-options',
        'title' => 'Landing Page Options',
        'fields' => array (
            array (
                'key' => 'field_5287imazutce8',
                'label' => 'Background image',
                'name' => 'image_back',
                'type' => 'image',
                'instructions' => '',
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_5286b44jagger',
                'label' => 'Next page link',
                'name' => 'ext_url',
                'type' => 'text',
                'instructions' => 'The page that the visitor should be taken to',
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'none',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_528d875normal',
                'label' => 'Enter in normal screen button text',
                'name' => 'normalscreen_text',
                'type' => 'text',
                'instructions' => 'Leave blank if no button is needed',
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'none',
            ),
            array (
                'key' => 'field_528d875aextra',
                'label' => 'Enter and go fullscreen button text',
                'name' => 'fullscreen_text',
                'type' => 'text',
                'instructions' => 'Leave blank if no button is needed',
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'none',
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'page-landing.php',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //BLOG POSTS OPTIONS
    register_field_group(array (
        'id' => 'acf_theme-post-options',
        'title' => 'Theme Post Options',
        'fields' => array (
            array (
                'key' => 'field_52878b9999b19',
                'label' => 'Post layout',
                'name' => 'post_layout',
                'type' => 'select',
                'choices' => array (
                    'wide' => 'Big media above post and sidebar',
                    'boxed' => 'Boxed media above post content',
                ),
                'default_value' => 'wide',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878acb81813',
                'label' => 'Featured Color',
                'name' => 'featured_color',
                'type' => 'color_picker',
                'instructions' => '(optional)',
                'default_value' => '',
            ),
            array (
                'key' => 'field_52878aed81814',
                'label' => 'Skip featured image on single page and lightbox?',
                'name' => 'skip_featured',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_52878b4c16b18',
                'label' => 'Disable slider and show images and videos stacked vertically?',
                'name' => 'no_slider',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_52878b6216b19',
                'label' => 'Post icon',
                'name' => 'bl_icon',
                'type' => 'select',
                'choices' => array (
                    'none' => 'Use custom icon',
                    'navicon-link' => 'Link',
                    'navicon-pen' => 'Pen',
                    'navicon-image-2' => 'Image',
                    'navicon-camera' => 'Video',
                    'navicon-lab' => 'Lab',
                    'navicon-camera-2' => 'Camera',
                    'navicon-pushpin' => 'Pushpin',
                    'navicon-stats' => 'Stats',
                    'navicon-wrench' => 'Technology',
                    'navicon-rocket' => 'Rocket',
                    'navicon-music' => 'Music',
                ),
                'default_value' => 'navicon-link',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878caf44c4b',
                'label' => 'Custom icon',
                'name' => 'bl_icon_custom',
                'type' => 'text',
                'instructions' => 'Check the theme documentation for a complete list.',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878b6216b19',
                            'operator' => '==',
                            'value' => 'none',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => 'navicon-video',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'formatting' => 'none',
                'maxlength' => '',
            ),
            array (
                'key' => 'field_52878d75b0ce7',
                'label' => 'Position 2: Media Type?',
                'name' => 'position_2_use_video',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878d98b0ce8',
                'label' => 'Image 2',
                'name' => 'image_2',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878d75b0ce7',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878db9b0ce9',
                'label' => 'Video 2',
                'name' => 'video_2',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878d75b0ce7',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
            array (
                'key' => 'field_52878dfa76b54',
                'label' => 'Position 3: Media Type?',
                'name' => 'position_3_media_type',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878e733daa4',
                'label' => 'Image 3',
                'name' => 'image_3',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878dfa76b54',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878ef6e3214',
                'label' => 'Video 3',
                'name' => 'video_3',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878dfa76b54',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
            array (
                'key' => 'field_52878df976b53',
                'label' => 'Position 4: Media Type?',
                'name' => 'position_4_media_type',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878e723daa3',
                'label' => 'Image 4',
                'name' => 'image_4',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df976b53',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878ef5e3213',
                'label' => 'Video 4',
                'name' => 'video_4',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df976b53',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
            array (
                'key' => 'field_52878df876b52',
                'label' => 'Position 5: Media Type?',
                'name' => 'position_5_media_type',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878e713daa2',
                'label' => 'Image 5',
                'name' => 'image_5',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df876b52',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878ef4e3212',
                'label' => 'Video 5',
                'name' => 'video_5',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df876b52',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
            array (
                'key' => 'field_52878df776b51',
                'label' => 'Position 6: Media Type',
                'name' => 'position_6_media_type',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878e703daa1',
                'label' => 'Image 6',
                'name' => 'image_6',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df776b51',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878ef3e3211',
                'label' => 'Video 6',
                'name' => 'video_6',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df776b51',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
            array (
                'key' => 'field_52878df676b50',
                'label' => 'Position 7: Media Type',
                'name' => 'position_7_media_type',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878e6f3daa0',
                'label' => 'Image 7',
                'name' => 'image_7',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df676b50',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878ef2e3210',
                'label' => 'Video 7',
                'name' => 'video_7',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df676b50',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
            array (
                'key' => 'field_52878df576b4f',
                'label' => 'Position 8: Media Type?',
                'name' => 'position_8_media_type',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878e6e3da9f',
                'label' => 'Image 8',
                'name' => 'image_8',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df576b4f',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878eeee320f',
                'label' => 'Video 8',
                'name' => 'video_8',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df576b4f',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
            array (
                'key' => 'field_52878df476b4e',
                'label' => 'Position 9: Media Type?',
                'name' => 'position_9_media_type',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878e6c3da9e',
                'label' => 'Image 9',
                'name' => 'image_9',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df476b4e',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878eede320e',
                'label' => 'Video 9',
                'name' => 'video_9',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df476b4e',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
            array (
                'key' => 'field_52878df376b4d',
                'label' => 'Position 10: Media Type?',
                'name' => 'position_10_media_type',
                'type' => 'select',
                'choices' => array (
                    'image' => 'Image',
                    'video' => 'Other Media',
                ),
                'default_value' => '',
                'allow_null' => 0,
                'multiple' => 0,
            ),
            array (
                'key' => 'field_52878e6b3da9d',
                'label' => 'Image 10',
                'name' => 'image_10',
                'type' => 'image',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df376b4d',
                            'operator' => '==',
                            'value' => 'image',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'save_format' => 'id',
                'preview_size' => 'thumbnail',
                'library' => 'all',
            ),
            array (
                'key' => 'field_52878eece320d',
                'label' => 'Video 10',
                'name' => 'video_10',
                'type' => 'textarea',
                'conditional_logic' => array (
                    'status' => 1,
                    'rules' => array (
                        array (
                            'field' => 'field_52878df376b4d',
                            'operator' => '==',
                            'value' => 'video',
                        ),
                    ),
                    'allorany' => 'all',
                ),
                'default_value' => '',
                'placeholder' => '',
                'maxlength' => '',
                'formatting' => 'html',
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'post_type',
                    'operator' => '==',
                    'value' => 'post',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //MASONRY PORTFOLIO PAGE
        register_field_group(array (
        'id' => 'acf_theme-portfolio-masonry-options',
        'title' => 'Theme Portfolio Masonry Options',
        'fields' => array (
            array (
                'key' => 'field_529738c0624fc',
                'label' => 'Show filter above thumbnails',
                'name' => 'show_filter',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_529751afebf5f',
                'label' => 'Show item skills',
                'name' => 'show_skills',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_529732e396c0b',
                'label' => 'Number of columns',
                'name' => 'cols_number',
                'type' => 'number',
                'instructions' => 'Use 0 for variable number',
                'default_value' => '',
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => 0,
                'max' => '',
                'step' => '',
            ),
            array (
                'key' => 'field_529730563ba39',
                'label' => 'Number of posts to load on each event',
                'name' => 'astro_posts_nr',
                'type' => 'number',
                'required' => 1,
                'default_value' => 9,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => 3,
                'max' => '',
                'step' => '',
            ),
            array (
                'key' => 'field_529735738ad74',
                'label' => 'Thumbnails margin',
                'name' => 'thumbs_margin',
                'type' => 'number',
                'required' => 1,
                'default_value' => 0,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => 0,
                'max' => '',
                'step' => '',
            ),
            array (
                'key' => 'field_52974db27db2e',
                'label' => 'Thumbs rollover background color',
                'name' => 'thumbs_rollover',
                'type' => 'color_picker',
                'instructions' => 'Leave blank for theme default value',
                'default_value' => '',
            ),
            array (
                'key' => 'field_52986d5d4649d',
                'label' => 'Thumbnails open lightbox',
                'name' => 'use_lightbox',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_52986d694649d',
                'label' => 'Lightbox shows image(s) from each portfolio entry individually',
                'name' => 'individual_lightbox',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_529737270f73c',
                'label' => 'Portfolio skills to be displayed',
                'name' => 'portfolio_filter',
                'type' => 'taxonomy',
                'instructions' => 'Leave blank for all',
                'taxonomy' => 'pirenko_skills',
                'field_type' => 'checkbox',
                'allow_null' => 0,
                'load_save_terms' => 0,
                'return_format' => 'object',
                'multiple' => 0,
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'template_portfolio_masonry.php',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));

    //GRID PORTFOLIO PAGE
    register_field_group(array (
        'id' => 'acf_theme-portfolio-grid-options',
        'title' => 'Theme Portfolio Grid Options',
        'fields' => array (
            array (
                'key' => 'field_529738c0624fc',
                'label' => 'Show filter above thumbnails',
                'name' => 'show_filter',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_529751afebf5f',
                'label' => 'Show item skills',
                'name' => 'show_skills',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_529732e396c0b',
                'label' => 'Number of columns',
                'name' => 'cols_number',
                'type' => 'number',
                'instructions' => 'Use 0 for variable number',
                'default_value' => 3,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => 0,
                'max' => '',
                'step' => '',
            ),
            array (
                'key' => 'field_529730563ba39',
                'label' => 'Number of posts to load on each event',
                'name' => 'astro_posts_nr',
                'type' => 'number',
                'required' => 1,
                'default_value' => 9,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => 3,
                'max' => '',
                'step' => '',
            ),
            array (
                'key' => 'field_529867ba083f5',
                'label' => 'Show mini sliders',
                'name' => 'show_mini_sliders',
                'type' => 'true_false',
                'instructions' => 'Show sliders if posts have multiple images',
                'message' => '',
                'default_value' => 1,
            ),
            array (
                'key' => 'field_529735738ad74',
                'label' => 'Thumbnails margin',
                'name' => 'thumbs_margin',
                'type' => 'number',
                'required' => 1,
                'default_value' => 0,
                'placeholder' => '',
                'prepend' => '',
                'append' => '',
                'min' => 0,
                'max' => '',
                'step' => '',
            ),
            array (
                'key' => 'field_52974db27db2e',
                'label' => 'Thumbs rollover background color',
                'name' => 'thumbs_rollover',
                'type' => 'color_picker',
                'instructions' => 'Leave blank for theme default value',
                'default_value' => '',
            ),
            array (
                'key' => 'field_52986d5d4649d',
                'label' => 'Thumbnails open lightbox',
                'name' => 'use_lightbox',
                'type' => 'true_false',
                'message' => '',
                'default_value' => 0,
            ),
            array (
                'key' => 'field_529737270f73c',
                'label' => 'Portfolio skills to be displayed',
                'name' => 'portfolio_filter',
                'type' => 'taxonomy',
                'instructions' => 'Leave blank for all',
                'taxonomy' => 'pirenko_skills',
                'field_type' => 'checkbox',
                'allow_null' => 0,
                'load_save_terms' => 0,
                'return_format' => 'object',
                'multiple' => 0,
            ),
        ),
        'location' => array (
            array (
                array (
                    'param' => 'page_template',
                    'operator' => '==',
                    'value' => 'template_portfolio_var-grid.php',
                    'order_no' => 0,
                    'group_no' => 0,
                ),
            ),
        ),
        'options' => array (
            'position' => 'normal',
            'layout' => 'default',
            'hide_on_screen' => array (
                0 => 'custom_fields',
            ),
        ),
        'menu_order' => 0,
    ));
}


    