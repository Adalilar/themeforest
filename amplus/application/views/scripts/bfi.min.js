var bfi;(function(e){bfi={lang:{loadingNext:"Loading next items",noMoreItems:"No more items to load",tweet:"Tweet",like:"Like",plusOne:"+1",pin:"Pin"},rtl:!1,fixImageWidths:function(){e(".content").find("img.alignnone, img.size-full, img.alignleft, img.alignright, img.aligncenter").each(function(){e(this).attr("data-origwidth",e(this).width());var t=e(this).parents(".column, .columns, div, span").not(".wp-caption"),n=e(this);if(t.length>0){t=t.eq(0);e(window).resize(function(){if(parseInt(n.attr("data-origwidth"))>t.width()){n.width(t.width());n.addClass("made-small")}else{n.css("width","auto");n.removeClass("made-small")}})}});e(".content").find(".wp-caption").each(function(){e(this).attr("data-origwidth",e(this).width());var t=e(this);e(window).resize(function(){parseInt(t.attr("data-origwidth"))>t.width()?t.addClass("made-small"):t.removeClass("made-small")})});e(window).trigger("resize")},portfolioRearrangeCols:function(t,n){var r=0;for(var i=0;i<e(".blog-content "+n+":not(.hidden)").length;i++){e(".blog-content "+n+":not(.hidden):eq("+i+")").removeClass("alpha omega");i%t==0?e(".blog-content "+n+":not(.hidden):eq("+i+")").addClass("alpha"):i%t==t-1&&e(".blog-content "+n+":not(.hidden):eq("+i+")").addClass("omega")}},portfolioFilter:function(t){e(".filters > .button").removeClass("selected").removeClass("not-selected").addClass("not-selected");e(t).removeClass("not-selected").addClass("selected");var n=e(t).attr("data-filter");n!=""?e(".blog-content > article").each(function(){var t=e(this).attr("data-cats").split(",");t.indexOf(n)!=-1?e(this).removeClass("hidden"):e(this).addClass("hidden")}):e(".blog-content > article").removeClass("hidden");var r=2,i=".one-half";if(e(".blog-content .one-fourth").length){r=4;i=".one-fourth"}else if(e(".blog-content .one-third").length){r=3;i=".one-third"}setTimeout("bfi.portfolioRearrangeCols("+r+", '"+i+"')",100)},init:function(){this.fixImageWidths();e("#main-menu").length&&ddsmoothmenu.init({mainmenuid:"main-menu",orientation:"h",contentsource:"markup",rtl:bfi.rtl});e("#main-menu > ul").tinyNav({active:"current-menu-item"});e("iframe").parent().fitVids();e(".bfi_accordion li > h4").click(function(t){t.preventDefault();if(!e(this).hasClass("selected")&&e(this).find(":animated").length==0){e(this).parents(".bfi_accordion").find("li > h4.selected").attr("class","").closest("li").find("div").slideToggle();e(this).addClass("selected");e(this).closest("li").find("div").not(":animated").slideToggle()}});e(".bfi_accordion").each(function(){e(this).children().find("h4").eq(e(this).attr("data-opentab")).trigger("click")});e(".bfi_tabs").each(function(){e(this).append('<ul class="tab-body"></ul>');e(this).find("ul.tab-title > li div").each(function(){e(this).parents(".bfi_tabs").find("ul.tab-body").append("<li></li>");e(this).parents(".bfi_tabs").find("ul.tab-body > li:last").append(e(this).html());e(this).remove()})});e(".bfi_tabs ul.tab-title h4").click(function(t){t.preventDefault();if(!e(this).hasClass("selected")&&e(this).parents(".bfi_tabs").find(":animated").length==0){e(this).parents(".bfi_tabs").find(".tab-title > li").attr("class","");e(this).parents("li").addClass("selected");var n=e(this).parents(".bfi_tabs").find(".tab-title > li.selected").index();e(this).parents(".bfi_tabs").find(".tab-body > li").fadeOut(0).eq(n).fadeIn(300)}});e(".bfi_tabs").each(function(){e(this).find(".tab-title h4").eq(e(this).attr("data-opentab")).trigger("click")});if(typeof SyntaxHighlighter!="undefined"){e(".bfi_syntaxhighlighter").css("display","none");SyntaxHighlighter.defaults.gutter=!0;SyntaxHighlighter.defaults.toolbar=!1;SyntaxHighlighter.all()}e(".bfi_toggle > h4").click(function(t){t.preventDefault();e(this).parent().find(":animated").length==0&&e(this).parent().toggleClass("open").find("div:eq(0)").slideToggle()});e(".bfi_toggle:not(.open)").each(function(){e(this).find("div:eq(0)").slideToggle(0)});e(".bfi_infobox").click(function(t){e(this).not(":animated").fadeOut()});e("*[data-tooltip]").qtip!=undefined&&e("*[data-tooltip]").each(function(){e(this).attr("data-x")==undefined&&e(this).attr("data-x",0);e(this).attr("data-y")==undefined&&e(this).attr("data-y",0);e(this).attr("data-my")==undefined&&e(this).attr("data-my","bottom left");e(this).attr("data-at")==undefined&&e(this).attr("data-at","top center");e(this).qtip({content:{attr:"data-tooltip"},position:{my:e(this).attr("data-my"),at:e(this).attr("data-at"),adjust:{x:parseInt(e(this).attr("data-x")),y:parseInt(e(this).attr("data-y"))}}})});e(".bfi_pricingtable > div > .description").equalHeights();e(".bfi_pricingtable > div > .description > div").vAlign();e("a.fancybox:not(.video)").each(function(){e(this).fancybox({titlePosition:"inside"})});e("a.fancybox.video").each(function(){e(this).fancybox({type:"iframe"})});e("a.fancybox, a.lightbox").hover(function(){e(this).addClass("hovered")});e("img[data-original]").lazyload!=undefined&&e("img[data-original]").show().lazyload({threshold:150,effect:"fadeIn"});e(".nivoSlider .nivo-main-image").css("height","100%");e(window).resize(function(){e(".nivoSlider .nivo-main-image").css("height","100%")});if(e(".blog-content").infinitescroll!=undefined&&e("#page-nav").length>0&&e("#page-nav a.next").length>0){e("#page-nav").hide(0);e(".blog-content").infinitescroll({navSelector:"#page-nav",nextSelector:"#page-nav a.next",itemSelector:".blog-content article",debug:!1,loading:{img:"",msgText:"<i class='icon-spinner icon-large icon-spin'></i> <em>"+bfi.lang.loadingNext+"...</em>",finishedMsg:"<i class='icon-exclamation-sign icon-large'></i> <em>"+bfi.lang.noMoreItems+".</em>"}},function(t){e("#infscr-loading").stop().slideUp();var n="loaded-"+e(".blog-content article").length;e(t).each(function(){e(this).addClass(n)});e("img[data-original]").lazyload!=undefined&&e("article."+n).find("img[data-original]").show().lazyload({threshold:150,effect:"fadeIn"});e("article."+n+" iframe").parent().fitVids();e("article."+n+" a.fancybox:not(.video)").each(function(){e(this).fancybox({titlePosition:"inside"})});e("article."+n+" a.fancybox.video").each(function(){e(this).fancybox({type:"iframe"})});e(".filter.selected").length&&bfi.portfolioFilter(e(".filter.selected")[0]);e.event.trigger({type:"loadedNextItems"});e("article."+n+" a.fancybox, article."+n+" a.lightbox").hover(function(){e(this).addClass("hovered")})})}e(".widget_calendar tfoot").each(function(){e(this).find("td").length==3&&e(this).find("td:eq(0)").html()=="&nbsp;"&&e(this).find("td:eq(1)").html()=="&nbsp;"&&e(this).find("td:eq(2)").html()=="&nbsp;"&&e(this).css("display","none")});e(".share-twitter").each(function(){e(this).sharrre({share:{twitter:!0},template:'<a class="box" href="#"><div class="count" href="#">{total}</div><div class="share"><i class="icon-twitter"></i>'+bfi.lang.tweet+"</div></a>",enableHover:!1,enableTracking:!0,click:function(e,t){e.simulateClick();e.openPopup("twitter")},text:e(this).attr("data-title")})});e(".share-facebook").each(function(){e(this).sharrre({share:{facebook:!0},template:'<a class="box" href="#"><div class="count" href="#">{total}</div><div class="share"><i class="icon-facebook"></i>'+bfi.lang.like+"</div></a>",enableHover:!1,enableTracking:!0,click:function(e,t){e.simulateClick();e.openPopup("facebook")}})});e(".share-googleplus").each(function(){e(this).sharrre({share:{googlePlus:!0},urlCurl:e(this).attr("data-curl"),template:'<a class="box" href="#"><div class="count" href="#">{total}</div><div class="share"><i class="icon-google-plus"></i>'+bfi.lang.plusOne+"</div></a>",enableHover:!1,enableTracking:!0,click:function(e,t){e.simulateClick();e.openPopup("googlePlus")},title:e(this).attr("data-title")})});e(".share-pinterest").each(function(){e(this).sharrre({share:{pinterest:!0},urlCurl:e(this).attr("data-curl"),template:'<a class="box" href="#"><div class="count" href="#">{total}</div><div class="share"><i class="icon-pinterest"></i>'+bfi.lang.pin+"</div></a>",enableHover:!1,enableTracking:!0,click:function(e,t){e.simulateClick();e.openPopup("pinterest")},title:e(this).attr("data-title"),buttons:{pinterest:{media:e(this).attr("data-media"),description:e(this).attr("data-desc")}}})});e("#respond .error.icon-warning-sign").appendTo("#respond .error_container")}}})(jQuery);(function(e){e.fn.imgscale=function(t){function c(e,a,c){function p(){r>n?v("w"):r<n?v("t"):r==n&&v("s")}function v(e){s>i?m(e,"w"):s<i?m(e,"t"):s==i&&m(e,"s")}function m(e,t){e=="w"&&t=="w"?g():e=="w"&&t=="t"?y("w"):e=="w"&&t=="s"?y("w"):e=="t"&&t=="w"?y("w"):e=="t"&&t=="t"?g():e=="t"&&t=="s"?y("t"):e=="s"&&t=="w"?y("t"):e=="s"&&t=="t"?y("w"):e=="s"&&t=="s"&&y("w")}function g(){s*n/s>=r?y("t"):y("w")}function y(i){switch(i){case"t":t.scale=="fit"?e.attr("width",r):e.attr("height",n);break;case"w":t.scale=="fit"?e.attr("height",n):e.attr("width",r)}t.center?w():E()}function w(){o=e.width();u=e.height();if(u>n){l="-"+Math.floor((u-n)/2)+"px";e.css("margin-top",l)}if(o>r){f="-"+Math.floor((o-r)/2)+"px";e.css("margin-left",f)}E()}function E(){t.fade>0&&c?a.animate({opacity:1},t.fade):a.css("opacity",1)}n=a.height();r=a.width();i=e.height();s=e.width();p()}t=e.extend({parent:!1,scale:"fill",center:!0,fade:0},t);var n,r,i,s,o,u,f,l;this.each(function(){var n=e(this),r=t.parent?n.parents(t.parent):n.parent();r.css({opacity:0,overflow:"hidden"});if(r.length>0){n.removeAttr("height").removeAttr("width");this.complete?c(n,r,!1):n.load(function(){c(n,r,!0)})}})}})(jQuery);(function(e){e.fn.scaleImage=function(t){function r(e,t){var r=i(e),o=r.width,u=r.height,a=t.width(),f=t.height(),l=parseInt(e.css("borderLeftWidth"),10)+parseInt(e.css("borderRightWidth"),10),c=parseInt(e.css("borderTopWidth"),10)+parseInt(e.css("borderBottomWidth"),10),h,p,d,v,m;if(f===0||a===0){var g=s(t);a=g.width;f=g.height}l=isNaN(l)?0:l;c=isNaN(c)?0:c;h=a/o;p=f/u;n.scale==="fit"?d=h<p?h:p:n.scale==="fill"&&(d=h>p?h:p);v=Math.ceil(o*d,10)-l;m=Math.ceil(u*d,10)-c;e.css({width:v,height:m}).attr({width:v,height:m});if(n.center){e.css("margin-left",Math.floor((a-v)/2));e.css("margin-top",Math.floor((f-m)/2))}n.fade>0?t.animate({opacity:1},n.fade):t.css("opacity",1)}function i(e){var t=new Image;t.src=e.attr("src");return{width:t.width,height:t.height}}function s(t){var n=t.clone().css({visibility:"hidden",display:"block",position:"absolute"});e("body").append(n);var r={width:n.width(),height:n.height()};n.remove();return r}var n=e.extend({parent:!1,scale:"fill",center:!0,fade:0},t);return this.each(function(){var t=e(this),i=n.parent?t.parents(n.parent):t.parent();i.css({opacity:0,overflow:"hidden"});if(i.length>0){t.removeAttr("height").removeAttr("width");this.complete?r(t,i):t.load(function(){r(t,i)})}})}})(jQuery);(function(e,t,n){e.fn.tinyNav=function(r){var s=e.extend({active:"selected",header:"",label:""},r);return this.each(function(){n++;var r=e(this),o="tinynav"+n,u=".l_"+o,f=e("<select/>").attr("id",o).addClass("tinynav "+o);if(r.is("ul,ol")){""!==s.header&&f.append(e("<option/>").text(s.header));var l="";r.addClass("l_"+o).find("a").each(function(){l+='<option value="'+e(this).attr("href")+'">';var t;for(t=0;t<e(this).parents("ul, ol").length-1;t++)l+="- ";l+=e(this).text()+"</option>"});f.append(l);s.header||f.find(":eq("+e(u+" li").index(e(u+" li."+s.active))+")").attr("selected",!0);f.change(function(){t.location.href=e(this).val()});e(u).after(f);s.label&&f.before(e("<label/>").attr("for",o).addClass("tinynav_label "+o+"_label").append(s.label))}})}})(jQuery,this,0);(function(e){"use strict";e.fn.fitVids=function(t){var n={customSelector:null},r=document.createElement("div"),i=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0];r.className="fit-vids-style";r.innerHTML="&shy;<style>               .fluid-width-video-wrapper {                 width: 100%;                              position: relative;                       padding: 0;                            }                                                                                   .fluid-width-video-wrapper iframe,        .fluid-width-video-wrapper object,        .fluid-width-video-wrapper embed {           position: absolute;                       top: 0;                                   left: 0;                                  width: 100%;                              height: 100%;                          }                                       </style>";i.parentNode.insertBefore(r,i);t&&e.extend(n,t);return this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='www.youtube.com']","iframe[src*='www.youtube-nocookie.com']","iframe[src*='www.kickstarter.com']","object","embed"];n.customSelector&&t.push(n.customSelector);var r=e(this).find(t.join(","));r.each(function(){var t=e(this);if(this.tagName.toLowerCase()==="embed"&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)return;var n=this.tagName.toLowerCase()==="object"||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),r=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),i=n/r;if(!t.attr("id")){var s="fitvid"+Math.floor(Math.random()*999999);t.attr("id",s)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",i*100+"%");t.removeAttr("height").removeAttr("width")})})}})(jQuery);(function(e){e.fn.vAlign=function(){return this.each(function(t){var n=e(this).height(),r=e(this).parent().height(),i=(r-n)/2;e(this).css("padding-top",i)})}})(jQuery);(function(e){e.fn.equalHeights=function(t,n){tallest=t?t:0;this.each(function(){e(this).height()>tallest&&(tallest=e(this).height())});n&&tallest>n&&(tallest=n);return this.each(function(){e(this).css("min-height",tallest).css("overflow","hidden")})}})(jQuery);Number.prototype.slice||(Number.prototype.slice=function(e,t){var n=String(this),r="";for(;e<t;e++)r+=n.chatAt(e);return r});Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n);n<0&&(n+=t);for(;n<t;n++)if(n in this&&this[n]===e)return n;return-1});