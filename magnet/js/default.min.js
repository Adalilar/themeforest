function checkSizes(){$width=$j(window).width();if($width>size1_width&&size1==true){size2=true;size3=true;size4=true;size1=false;sliderRewind();sliderCheckControl();$j(".big-slider-slide .image img, .portfolio_holder article .image img").css("max-width","none").css("transform","none").css("transition","none");$j(".portfolio_holder").isotope("reLayout");sliderImageHovers()}if($width<size1_width&&size2==true){size1=true;size3=true;size4=true;size2=false;sliderRewind();sliderCheckControl();$j(".big-slider-slide .image, .portfolio_holder article .image").stop(true).unbind();$j(".big-slider-slide .image img, .portfolio_holder article .image img").stop(true).unbind();$j(".big-slider-slide .image img, .portfolio_holder article .image img").removeAttr("style");$j(".portfolio_holder").isotope("reLayout")}if($width<size2_width&&size3==true){size1=true;size2=true;size4=true;size3=false;sliderRewind();sliderCheckControl();$j(".big-slider-slide .image, .portfolio_holder article .image").stop(true).unbind();$j(".big-slider-slide .image img, .portfolio_holder article .image img").stop(true).unbind();$j(".big-slider-slide .image img, .portfolio_holder article .image img").removeAttr("style");$j(".portfolio_holder").isotope("reLayout")}if($width<size3_width&&size4==true){size1=true;size2=true;size3=true;size4=false;sliderRewind();sliderCheckControl();$j(".big-slider-slide .image, .portfolio_holder article .image").stop(true).unbind();$j(".big-slider-slide .image img, .portfolio_holder article .image img").stop(true).unbind();$j(".big-slider-slide .image img, .portfolio_holder article .image img").removeAttr("style");$j(".portfolio_holder").isotope("reLayout")}}function dropDownMenu(){var e=$j(".drop_down > ul > li");e.each(function(t){if($j(e[t]).find(".second").length>0){$j(e[t]).find(".second").hide();var n=$j(e[t]).find("ul > li").size()*10+100;$j(e[t]).mouseenter(function(){$j(e[t]).find(".second").css({visibility:"visible",height:"0px",opacity:"0"});$j(e[t]).find(".second").css("display","block");$j(e[t]).find(".second").stop().animate({height:$j(e[t]).find(".inner").height()+"px",opacity:1},n,function(){$j(e[t]).find(".second").css("overflow","visible")});dropDownMenuThirdLevel()}).mouseleave(function(){$j(e[t]).find(".second").stop().animate({height:"0px"},0,function(){$j(e[t]).find(".second").css("overflow","hidden");$j(e[t]).find(".second").css("visivility","hidden")})})}})}function dropDownMenuThirdLevel(){var e=$j(".drop_down ul li > .second > .inner > .inner2 > ul > li");e.each(function(t){if($j(e[t]).find("ul").length>0){var n=0;$j(e[t]).find("ul li").each(function(){n+=$j(this).height()});$j(e[t]).data("original_height",n+"px");var r=$j(e[t]).find("ul > li").size()*10+100;$j(e[t]).mouseenter(function(){$j(e[t]).find("ul").css({visibility:"visible",height:"0px",opacity:"0"});$j(e[t]).find("ul").css("display","block");$j(e[t]).find("ul").stop().animate({height:$j(e[t]).data("original_height"),opacity:1},r,function(){$j(e[t]).find("ul").css("overflow","visible")})}).mouseleave(function(){$j(e[t]).find("ul").stop().animate({height:"0px"},0,function(){$j(e[t]).find("ul").css("overflow","hidden");$j(e[t]).find(".second").css("visivility","hidden")})})}})}function magicPanes(){$magicLine=$j("#magic");$magicLine2=$j("#magic2");$menulinks=$j(".main_menu > ul > li");if($j(".main_menu .active").length>0){$j("body").removeClass("menuHoverOn");$magicLine.width($j(".active").outerWidth(true)-24).css("left",$j(".active").position().left+12);$magicLine2.width($j(".active").outerWidth(true)-24).css("left",$j(".active").position().left+12).data("origLeft",$magicLine.position().left).data("origWidth",$magicLine.width());$menulinks.mouseenter(function(){$el=$j(this);$leftPos=$el.position().left+12;$newWidth=$el.outerWidth(true)-24;if($el.hasClass("active")==false){}return $magicLine2.stop().animate({left:$leftPos,width:$newWidth})}).mouseleave(function(){return $magicLine2.stop().animate({left:$magicLine2.data("origLeft"),width:$magicLine2.data("origWidth")},function(){})});$j("nav > ul > li a").each(function(e){$j(this).click(function(){if($j(this).attr("href")!="http://#"&&$j(this).attr("href")!="#"){$j("a").parent().removeClass("active");if($j(this).closest(".second").length==0){$j(this).parent().addClass("active")}else{$j(this).closest(".second").parent().addClass("active")}$magicLine2.data("origLeft",$leftPos).data("origWidth",$newWidth);$magicLine2.stop().animate({left:$leftPos,width:$newWidth});return $magicLine.stop().animate({left:$leftPos,width:$newWidth})}else{return false}})})}else{$j("body").addClass("menuHoverOn")}}function selectMenu(){var e=$j("<div class='select'><ul></ul></div>");$j("<span>&nbsp;</span>").prependTo(e);e.appendTo(".selectnav");if($j(".main_menu").hasClass("drop_down")){$j(".main_menu ul li a").each(function(){var t=$j(this).attr("href");var n=$j(this).text();if($j(this).parents("li").length==2){n="&nbsp;&nbsp;&nbsp;"+n}if($j(this).parents("li").length==3){n="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+n}if($j(this).parents("li").length>3){n="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+n}var r=$j("<li />");var i=$j("<a />",{href:t,html:n}).appendTo(r);r.appendTo(e.find("ul"))})}else if($j(".main_menu").hasClass("move_down")){$j(".main_menu ul li a").each(function(){var t=$j(this).attr("href");var n=$j(this).text();if($j(this).parents("div.mc").length==1){n="&nbsp;&nbsp;&nbsp;"+n}if($j(this).hasClass("sub")){n="&nbsp;&nbsp;&nbsp;"+n}var r=$j("<li />");var i=$j("<a />",{href:t,html:n}).appendTo(r);r.appendTo(e.find("ul"))})}$j(".select span").click(function(){if($j(".select ul").is(":visible")){$j(".select ul").slideUp()}else{$j(".select ul").slideDown()}});$j(".selectnav ul li a").click(function(){$j(".select ul").slideUp()})}function sliderInit(){sliderCheckControl();jQuery(".big-slider-wrapper").each(function(){function v(n){t.stop(true);var r=n/(h-c);o=t.width();s=e.find(".big-slider-control .control-seek").width();var i=(s-o)*r;t.animate({left:i+"px"},300)}function m(){n.stop(true,true);stopPulseScrollTeaser();var t=parseInt(n.css("margin-left"));if(t<0){var r=e.find(".big-slider .big-slider-slide:last");var i=r.outerWidth()+parseInt(r.css("margin-left"))+parseInt(r.css("margin-right"));t+=i;t=Math.round(t/i)*i;n.animate({marginLeft:t+"px"},300);v(t);return true}else{c=e.find(".big-slider .big-slider-uber-inner").width();h=e.find(".big-slider").width();n.animate({marginLeft:h-c+"px"},300);v(h-c)}}function g(){n.stop(true,true);stopPulseScrollTeaser();c=e.find(".big-slider .big-slider-uber-inner").width();h=e.find(".big-slider").width();var t=parseInt(n.css("margin-left"));if(isNaN(t))t=0;if(c+t>h+20){var r=e.find(".big-slider .big-slider-slide:last");var i=r.outerWidth()+parseInt(r.css("margin-left"))+parseInt(r.css("margin-right"));t-=i;t=Math.round(t/i)*i;n.animate({marginLeft:t+"px"},300);v(t);return true}else{n.animate({marginLeft:"0px"},300);v(0)}}var e=jQuery(this);var t=e.find(".big-slider-control .control-seek-box");var n=e.find(".big-slider .big-slider-inner");var r=0;var i=0;var s=0;var o=0;var u=0;var a=0;var f=1;var l;var c=0;var h=0;var p=function(e){stopPulseScrollTeaser();var f=i+(e.pageX-r);if(f<0)f=0;if(f>s-o)f=s-o;var l=f/(s-o);t.css("left",f+"px");var p=(h-c)*l;n.css("margin-left",p+"px");u=a-e.pageX;a=e.pageX};var d=function(e){stopPulseScrollTeaser();var f=i+(r-e.pageX);if(f<0)f=0;if(f>s-o)f=s-o;var l=f/(s-o);t.css("left",f+"px");var p=(h-c)*l;n.css("margin-left",p+"px");u=a-e.pageX;a=e.pageX};t.mousedown(function(n){n.preventDefault();r=n.pageX;i=parseInt(t.css("left"));o=t.width();s=e.find(".big-slider-control .control-seek").width();c=e.find(".big-slider .big-slider-uber-inner").width();h=e.find(".big-slider").width();jQuery(this).addClass("pressed");jQuery(document).bind("mousemove",p)});e.find(".big-slider").mousedown(function(n){n.preventDefault();r=n.pageX;i=parseInt(t.css("left"));o=t.width();s=e.find(".big-slider-control .control-seek").width();c=e.find(".big-slider .big-slider-uber-inner").width();h=e.find(".big-slider").width();jQuery(this).addClass("pressed");$j(this).bind("mousemove",d)});jQuery(document).mouseup(function(){if(t.hasClass("pressed")){t.removeClass("pressed");jQuery(document).unbind("mousemove",p);var r=e.find(".big-slider .big-slider-slide:last");var i=r.outerWidth()+parseInt(r.css("margin-left"))+parseInt(r.css("margin-right"));var s=parseInt(n.css("margin-left"));if(u>0){s=Math.ceil(s/i)*i;if(s>0)s=0}else{s=Math.floor(s/i)*i;if(s<h-c)s=h-c}n.stop(true).animate({marginLeft:s+"px"},300);v(s)}});e.find(".big-slider").mouseup(function(){if($j(this).hasClass("pressed")){$j(this).removeClass("pressed");$j(this).unbind("mousemove",d);var t=e.find(".big-slider .big-slider-slide:last");var r=t.outerWidth()+parseInt(t.css("margin-left"))+parseInt(t.css("margin-right"));var i=parseInt(n.css("margin-left"));if(u<0){i=Math.ceil(i/r)*r;if(i>0)i=0}else{i=Math.floor(i/r)*r;if(i<h-c)i=h-c}n.stop(true).animate({marginLeft:i+"px"},300);v(i)}});e.find(".big-slider-control .control-left").click(function(e){e.preventDefault();f=0;m()});e.find(".big-slider-control .control-right").click(function(e){e.preventDefault();f=1;g()});e.swipe({swipeMoving:function(e){},swipeLeft:function(){g()},swipeRight:function(){m()}})})}function sliderRewind(){jQuery(".big-slider-wrapper").each(function(){var e=jQuery(this).find(".big-slider-control .control-seek-box");var t=jQuery(this).find(".big-slider .big-slider-inner");e.css("left",0);t.css("margin-left",0)})}function sliderCheckControl(){var e=jQuery(window).width();jQuery(".big-slider-wrapper").each(function(){var t=jQuery(this).find(".big-slider .big-slider-slide").length;if(t<4&&e>=768||t==1&&e<768){}else{}})}function sliderImageHovers(){$j(".big-slider-wrapper:not(:parent.box1), .portfolio_holder article").find(".image").each(function(){var e=1.2;var t=$j(this).find("img").width();var n=$j(this).find("img").height();$j(this).height(n);var r=$j(this).find("img").width()*e;var i=$j(this).find("img").height()*e;$j(this).hover(function(){$j(this).find("img").stop(false,true).animate({width:r,height:i},{duration:500},function(){})},function(){$j(this).find("img").stop(false,true).animate({width:t,height:n,top:"0",left:"0"},{duration:500})});$j(this).mousemove(function(e){$this=$j(this);var t=Math.round(xPos/$j(this).width()*100);var n=Math.round(yPos/$j(this).height()*100);$j(this).find("img").each(function(){var e=$this.width()-$j(this).width();var r=$this.height()-$j(this).height();var i=e*(t/100);var s=r*(n/100);var o={left:i+"px",top:s+"px"};$j(this).animate({left:i,top:s},{duration:200,queue:false,easing:"linear"})})})})}function sliderImageHeightUpdate(){$j(".big-slider-wrapper:not(:parent.box1), .portfolio_holder article").find(".image").each(function(){var e=$j(this).find("img").height();$j(this).height(e)})}function initAccordion(){$j(".accordion2").accordion({collapsible:true,active:false,icons:"",heightStyle:"content"});$j(".toggle").addClass("accordion ui-accordion ui-accordion-icons ui-widget ui-helper-reset").find("h5").addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-top ui-corner-bottom").hover(function(){$j(this).toggleClass("ui-state-hover")}).click(function(){$j(this).toggleClass("ui-accordion-header-active ui-state-active ui-state-default ui-corner-bottom").next().toggleClass("ui-accordion-content-active").slideToggle(200);return false}).next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide()}function initMessages(){$j(".message").each(function(){$j(this).find(".close").click(function(e){e.preventDefault();$j(this).parent().fadeOut(500)})})}function initTestimonials(){$j(".testimonials").bxSlider({auto:true,controls:false});$j(".tweets").bxSlider({auto:true,mode:"fade",pager:false,pause:6e3,nextSelector:".twitter_next",prevSelector:".twitter_prev",nextText:"n",prevText:"p"})}function placeholderReplace(){$j("[placeholder]").focus(function(){var e=$j(this);if(e.val()==e.attr("placeholder")){if(this.originalType){this.type=this.originalType;delete this.originalType}e.val("");e.removeClass("placeholder")}}).blur(function(){var e=$j(this);if(e.val()==""){if(this.type=="password"){this.originalType=this.type;this.type="text"}e.addClass("placeholder");e.val(e.attr("placeholder"))}}).blur();$j("[placeholder]").parents("form").submit(function(){$j(this).find("[placeholder]").each(function(){var e=$j(this);if(e.val()==e.attr("placeholder")){e.val("")}})})}function initPortfolioSingleInfo(){var e=$j(".portfolio_single_follow");if($j(".portfolio_single_follow").length>0){offset=e.offset();$scrollHeight=$j(".portfolio_container").height();$scrollOffset=$j(".portfolio_container").offset();$window=$j(window);topPadding=15;$window.scroll(function(){if($window.width()>960){if($window.scrollTop()>offset.top){if($window.scrollTop()+topPadding+e.height()+24<$scrollOffset.top+$scrollHeight){e.stop().animate({marginTop:$window.scrollTop()-offset.top+topPadding})}else{e.stop().animate({marginTop:$scrollHeight-e.height()-24})}}else{e.stop().animate({marginTop:0})}}else{e.css("margin-top",0)}})}}function initPortfolioList(){$j(".portfolio_holder").isotope({itemSelector:".element",animationEngine:"jquery",animationOptions:{duration:250,easing:"linear",queue:false}})}function initPortfolioFilter(){$j(".filter a:first").addClass("current");$j(".filter a").click(function(){var e=$j(this).attr("data-filter");$j(".portfolio_holder").isotope({filter:e});$j(".filter a").removeClass("current");$j(this).addClass("current");return false})}function initProgressBars(){$j(".progress_bars").each(function(){$j(this).appear(function(){$j(this).find(".progress_bar").each(function(){var e=$j(this).find(".progress_content").data("percentage");$j(this).find(".progress_content").css("width","0%");$j(this).find(".progress_number").css("width","0%");$j(this).find(".progress_content").animate({width:e+"%"},2e3);$j(this).find(".progress_number").html(e+"%");$j(this).find(".progress_number").animate({width:e+"%"},2e3)})})})}function initTabs(){var e=$j(".tabs-nav"),t=e.children("li"),n=$j(".tab-content");e.each(function(){var e=$j(this);e.next().children(".tab-content").stop(true,true).hide().first().show();e.children("li").first().addClass("active").stop(true,true).show()});t.on("click",function(e){var t=$j(this);t.siblings().removeClass("active").end().addClass("active");t.parent().next().children(".tab-content").stop(true,true).hide().siblings(t.find("a").attr("href")).fadeIn();e.preventDefault()})}function fitVideo(){$j(".portfolio_images").fitVids();$j(".video_holder").fitVids()}function initParallax(e){if($j("html").hasClass("touch")){$j(".parallax section").each(function(){var e=$j(this);var t=e.data("height");e.height(t);var n=.5;var r=-$j(this).offset().top*n;e.css({"background-position":"center "+r+"px"});$j(window).bind("scroll",function(){var t=(-e.offset().top+$j(window).scrollTop())*n;e.css({"background-position":"center "+t+"px"})})})}else{$j(".parallax section").each(function(){var t=$j(this);var n=t.data("height");t.height(n);var r=n/$j(document).height()*e;var i=$j.elementoffset(t);var s=-(i*r);t.css({"background-position":"center "+s+"px"});$j(window).bind("scroll",function(){var e=$j.elementoffset(t);var n=-(e*r);t.css({"background-position":"center "+n+"px"})})})}return this}function totop_button(e){var t=$j("#back_to_top");t.removeClass("off on");if(e=="on"){t.addClass("on")}else{t.addClass("off")}}function backButtonInterval(){window.setInterval(function(){var e=$j(this).scrollTop();var t=$j(this).height();if(e>0){var n=e+t/2}else{var n=1}if(n<1e3){totop_button("off")}else{totop_button("on")}},300)}function backToTop(){$j(document).on("click","#back_to_top",function(e){e.preventDefault();$j("body,html").animate({scrollTop:0},$j(window).scrollTop()/3,"swing")})}function checkForIpad(){Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)})}function runPulseScrollTeaser(){if(!pulseScrollTeaserRunning){$j("#scrollTeaser").hide();return}var e=500;$j("#scrollTeaser-left1").fadeIn(e).delay(0).fadeOut(e);$j("#scrollTeaser-left2").delay(300).fadeIn(e).delay(0).fadeOut(e);$j("#scrollTeaser-left3").delay(500).fadeIn(e).delay(0).fadeOut(e,runPulseScrollTeaser)}function runPulseScrollTeaserVertical(){if(!pulseScrollTeaserVerticalRunning){$j("#scrollTeaserVertical").hide();return}var e=500;$j("#scrollTeaser-down1").fadeIn(e).delay(0).fadeOut(e);$j("#scrollTeaser-down2").delay(300).fadeIn(e).delay(0).fadeOut(e);$j("#scrollTeaser-down3").delay(500).fadeIn(e).delay(0).fadeOut(e,runPulseScrollTeaserVertical)}function startPulseScrollTeaser(){if(pulseScrollTeaserRunning==true)return false;if(pulseScrollTeaserVerticalRunning==true)return false;pulseScrollTeaserRunning=true;pulseScrollTeaserVerticalRunning=true;$j("#scrollTeaser").show();$j("#scrollTeaserVertical").show();runPulseScrollTeaser();runPulseScrollTeaserVertical();return true}function stopPulseScrollTeaser(){pulseScrollTeaserRunning=false}function stopPulseScrollTeaserVertical(){pulseScrollTeaserVerticalRunning=false}function parallaxPager(){var e=$j(".link_holder");$j("section.parallax section").each(function(){var t=$j(this).attr("id");var n=$j(this).data("title");var r=$j("<a />",{href:"#"+t,"class":"link",title:n,html:"&nbsp;"});r.appendTo(e)});e.css("margin-top",-e.height()/2);$j(".link_holder .link:first-child").addClass("active");$j(document).on("click","a.link",function(){$j(".tooltip").fadeOut(10);if($j(this).hasClass("active")){return false}$j(".link_holder .link").removeClass("active");$j(this).addClass("active");$j.scrollTo($j($j(this).attr("href")),{duration:750,offset:{top:-1}});return false});$j(".link_holder a[title]").tooltip({position:"top left",offset:[20,-20]})}function viewPort(){$j(".parallax section").waypoint(function(e){var t=$j(this).next();if(e==="up"){t=t.prev()}if(!t.length){t=$j(this)}var n=t.attr("id");$j(".link").each(function(){var e=$j(this).attr("href").replace("#","");if(e==n){$j(this).addClass("active")}else{$j(this).removeClass("active")}})},{offset:"0%"})}function stylishSelectContent(){if($j(".gform_wrapper").length===0&&$j(".woocommerce .checkout").length===0&&$j(".woocommerce .variations_form").length===0&&$j(".woocommerce-account .country_select").length===0&&$j(".woocommerce .woocommerce-ordering").length===0&&$j(".woocommerce-cart .shipping_calculator").length===0){$j(".content select").not("#rating").sSelect({ddMaxHeight:"300px"})}}var $j=jQuery.noConflict();var on_change=true;var size1=true;var size2=true;var size3=true;var size4=true;var size1_width=1166;var size2_width=934;var size3_width=500;$j(document).ready(function(){dropDownMenu();sliderInit();initAccordion();initMessages();initTestimonials();placeholderReplace();initProgressBars();selectMenu();initFlexSlider();fitVideo();backButtonInterval();backToTop();checkForIpad();startPulseScrollTeaser();initParallax(parallax_speed);parallaxPager();viewPort();stylishSelectContent()});$j(window).load(function(){magicPanes();initPortfolioSingleInfo();initPortfolioList();initPortfolioFilter();checkSizes();initTabs();$width=$j(window).width();if($width>size1_width)size1=false;else size2=false;$j(".flexslider").css("visibility","visible")});$j(window).resize(function(){checkSizes();sliderImageHeightUpdate();magicPanes()});$j(window).scroll(function(){stopPulseScrollTeaserVertical()});var $scrollHeight;$j.elementoffset=function(e){var t=$j(window).scrollTop();return t-e.offset().top+104};var pulseScrollTeaserRunning=false;var pulseScrollTeaserVerticalRunning=false