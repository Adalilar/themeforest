<?php//==========================================================// === Extras//==========================================================function dt_quote_customize_register( $wp_customize ) {    $wp_customize->get_setting( 'blogname' )->transport         = 'postMessage';    $wp_customize->get_setting( 'blogdescription' )->transport  = 'postMessage';    if ( class_exists( 'WP_Customize_Control' ) ) {    class DistinctiveThemes_Textarea_Control extends WP_Customize_Control {        public $type = 'textarea';        public function render_content() {            ?>            <label>            <span class="customize-control-title"><?php echo esc_html( $this->label ); ?></span>            <textarea rows="5" class="custom-textarea" <?php $this->link(); ?>><?php echo esc_textarea( $this->value() ); ?></textarea>            </label>            <?php        }    }    class DistinctiveThemes_Text_Description_Control extends WP_Customize_Control {        public $description;        public function render_content() {            ?>            <label>                <span class="customize-control-title"><?php echo esc_html( $this->label ); ?></span>                <input type="text" value="<?php echo esc_attr( $this->value() ); ?>" <?php $this->link(); ?> />            </label>            <p class="description more-top"><?php echo ( $this->description ); ?></p>            <?php        }    }    class DistinctiveThemes_Post_Layout_Control extends WP_Customize_Control {        public function render_content() {            if ( empty( $this->choices ) )                return;            $name = '_customize-radio-' . $this->id;            ?>            <span class="customize-control-title"><?php echo esc_html( $this->label ); ?></span>            <?php            foreach ( $this->choices as $value => $label ) :                ?>                <label>                    <input type="radio" value="<?php echo esc_attr( $value ); ?>" name="<?php echo esc_attr( $name ); ?>" <?php $this->link(); checked( $this->value(), $value ); ?> />                    <?php                    $value = ( is_active_sidebar( 'second-sidebar' ) ) ? $value . ' second-sidebar' : $value;                    echo '<div class="' . esc_attr( $value ) . '"></div>'; ?>                </label>                <?php            endforeach;            echo '<p class="description">' . __( 'Sidebars do not appear on the home page unless you have set a static front page.', 'quote' ) . '</p>';        }    }}        class Customize_Slider_Control extends WP_Customize_Control{            public $type = 'slider';            public function enqueue(){                wp_enqueue_script('customizer-slider', get_template_directory_uri() . '/framework/customizer/slider-ui.js' , array('jquery-ui-slider'), '1.0', true);                wp_register_style('customizer-slider-styles', get_template_directory_uri() . '/framework/customizer/slider-ui.css' );                  wp_enqueue_style('customizer-slider-styles');                wp_enqueue_style( 'dtpb-fa', get_template_directory_uri() . '/assets/css/font-awesome.min.css' , array(), time(), 'all');            wp_enqueue_style( 'dtpb-pe-icons', get_template_directory_uri() . '/assets/css/pe-icons.css' , array(), time(), 'all');                            }            public function render_content(){                ?>                <label>                    <span class="customize-control-title"><?php echo esc_html($this->label); ?></span>                    <div id="widthslider" class="slider"></div>                      <input id="widthinput" class="slider-input" type="text" />                </label>                <?php            }        }        class DT_Customize_Textarea_Control extends WP_Customize_Control {            public $type = 'textarea';                     public function render_content() {                ?>                    <label>                        <span class="customize-control-title"><?php echo esc_html( $this->label ); ?></span>                        <textarea rows="5" style="width:100%;" <?php $this->link(); ?>><?php echo esc_textarea( $this->value() ); ?></textarea>                    </label>                <?php            }        }        class Demo_Import_control extends WP_Customize_Control {            public $type = 'number';                        public function render_content() {            ?>                <label>                    <span class="customize-control-title"><?php echo esc_html( $this->label ); ?></span>                    <style>                        .btn {                            color: #fff !important;                            background: #3f8dbf;                            margin-bottom: 10px;                            margin-right: 5px;                            padding: 11px 20px 10px 20px;                            font-weight: 800;                            font-size: 13px;                            text-shadow: none;                            border: none;                            text-transform: uppercase;                            -webkit-transition: all 200ms ease-in;                            -o-transition: all 200ms ease-in;                            -moz-transition: all 200ms ease-in;                            -webkit-border-radius: 3px;                            border-radius: 3px;                            -webkit-box-shadow: none;                            -moz-box-shadow: none;                            box-shadow: none;                            display: inline-block;                            letter-spacing: 1px;                        }                        .btn.disabled {                          cursor: not-allowed;                          pointer-events: none;                          opacity: 0.65;                          filter: alpha(opacity=65);                          -webkit-box-shadow: none;                          box-shadow: none;                        }                    </style>                    <script type="text/javascript">                        jQuery(document).ready(function($){                            $('#demo-import').click(function(){                                                                activate = confirm('Before installing demo data be sure to do a full backup incase anything goes wrong, or data is overwritten. Proceed if you have done this.')                                if(activate == false) return false;                                                                $.ajax({                                    type: "POST",                                    url: ajaxurl,                                    data: {                                        action: 'ebor_ajax_import_data'                                    },                                    beforeSend: function() {                                        //show loader                                        $('.btn').addClass('disabled').text('Loading, Please Wait.');                                    },                                    error: function() {                                        //script error occured                                        $('body').alert( 'Importing didnt work! <br/> You might want to try reloading the page and then try again' );                                        $('.btn').removeClass('disabled');                                                                            },                                    success: function(response) {                                        if(response.match('ebor_import')) {                                            alert('Demo Data Imported. Have Fun and read the documentation.');                                        }                                        else {                                            alert('Demo Data Not Imported! ' + response);                                        }                                    },                                    complete: function(response) {                                          $('.btn').text('All Data Imported, Have Fun!');                                    }                                });                                                                        return false;                            });                        });                    </script>                    <p>This will import all demo data. If this is not a fresh WordPress install (existing content) please make site & database backups before importing demo content.</p>                    <p><strong>The import process will take up to 15 minutes depening on your server, start it & go grab a cup of tea!<br />Do not leave this page until you have confirmation of the import.</strong></p>                    <a href="#" id="demo-import" class="btn">Import Demo Data</a>                </label>            <?php            }                    }}add_action( 'customize_register', 'dt_quote_customize_register' );//==========================================================// === JS//==========================================================function dt_quote_customize_preview_js() {    wp_enqueue_script( 'dt_quote_customizer', get_template_directory_uri() . '/framework/customizer/customizer.js', array( 'customize-preview' ), '20130508', true );}add_action( 'customize_preview_init', 'dt_quote_customize_preview_js' );